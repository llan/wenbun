import"./CWj6FrbW.js";import{ak as qi,p as Bi,f,d as e,i as t,g as gi,r as i,b as d,c as Hi,a as F,s as n,j as vi,ar as Ii,w as H,ao as Wi,t as O,e as w,as as J,X as R}from"./C2k6CbEI.js";import{i as D}from"./Crl2Bchr.js";import{e as K,i as L}from"./DJAOMF32.js";import{s as Q}from"./B3jgN6p-.js";import{p as Xi}from"./B48BoX4-.js";import{t as U,b as Ai,d as Gi,s as Ji,c as hi}from"./BSb8eFOk.js";var Ki=f('<div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Simplified</div> <div class="value chinese-font svelte-k1xixi"><!></div></div> <div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Traditional</div> <div class="value chinese-font svelte-k1xixi"><!></div></div> <div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Definition</div> <div class="value"> </div></div> <div class="sep svelte-k1xixi"></div> <div style="margin-bottom: 0.5em"><b>Components</b> :</div>',1),Li=f('<div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Note</div> <div class="value"><!></div></div>'),Qi=f('<div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Hint</div> <div class="value"><!></div></div>'),Ui=f('<div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Semantic</div> <div class="value"><!></div></div>'),Vi=f('<div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Phonetic</div> <div class="value"><!></div></div>'),Yi=f('<div class="sep svelte-k1xixi"></div> <div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Etymology</div> <div class="value"> </div></div> <!> <!> <!>',1),$i=f('<div class="sep svelte-k1xixi"></div> <div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Components</div> <div class="value"></div></div>',1),ie=f('<div class="char-decomp svelte-k1xixi"><div class="char-container svelte-k1xixi"><div class="char chinese-font svelte-k1xixi"> </div> <div class="char-pinyin"> </div></div> <div class="char-info svelte-k1xixi"><div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Simplified</div> <div class="value chinese-font colored svelte-k1xixi"><!></div></div> <div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Traditional</div> <div class="value chinese-font colored svelte-k1xixi"><!></div></div> <div class="sep svelte-k1xixi"></div> <div class="row svelte-k1xixi"><div class="label svelte-k1xixi">Definition</div> <div class="value"> </div></div> <!> <!> <!></div></div>'),ee=f("<!> <!>",1),ae=(I,s,P)=>s(P().character),te=f('<div class="simple-decomp svelte-k1xixi"><button class="simple-char-button svelte-k1xixi"><span class="simple-char chinese-font svelte-k1xixi"> </span> <span class="simple-pinyin svelte-k1xixi"> </span></button> <span class="simple-sep svelte-k1xixi">&mdash;</span> <span class="simple-def"> </span></div>'),ve=f("<span><!></span>"),re=f('<span class="chinese-font svelte-k1xixi"><!></span>'),se=f("<span> </span>"),ne=(I,s,P)=>s(P()),oe=f('<button class="simple-char-button svelte-k1xixi"> </button>'),le=(I,s)=>s(),de=f('<button class="dict-back-button svelte-k1xixi"><i class="fa-solid fa-angle-left"></i> </button>'),ce=f("<!> <!>",1),_e=f('<div class="dict-container"><!></div>');function xe(I,s){Bi(s,!0);const P=r=>{var a=ee(),o=F(a);{var h=l=>{var v=Ki(),c=F(v),x=n(e(c),2),k=e(x),u=R(()=>s.wordlist.toSimplified(z));ri(k,()=>t(u),()=>oi),i(x),i(c);var m=n(c,2),p=n(e(m),2),N=e(p),g=R(()=>s.wordlist.toTraditional(z));ri(N,()=>t(g),()=>oi),i(p),i(m);var E=n(m,2),A=n(e(E),2),ii=e(A,!0);i(A),i(E),Wi(4),O(()=>w(ii,s.charData.meaning??"")),d(l,v)};D(o,l=>{pi&&l(h)})}var S=n(o,2);K(S,17,()=>t(ki),L,(l,v)=>{var c=ie(),x=e(c),k=e(x),u=e(k,!0);i(k);var m=n(k,2),p=e(m,!0);i(m),i(x);var N=n(x,2),g=e(N),E=n(e(g),2),A=e(E),ii=R(()=>s.wordlist.toSimplified(t(v).character));W(A,()=>t(ii)),i(E),i(g);var ei=n(g,2),_i=n(e(ei),2),Fi=e(_i),Oi=R(()=>s.wordlist.toTraditional(t(v).character));W(Fi,()=>t(Oi)),i(_i),i(ei);var ai=n(ei,4),xi=n(e(ai),2),Ri=e(xi,!0);i(xi),i(ai);var mi=n(ai,2);{var zi=_=>{var C=Li(),T=n(e(C),2),M=e(T),j=R(()=>hi(s.wordlist.getCustomNote(z)??""));si(M,()=>t(j)),i(T),i(C),d(_,C)};D(mi,_=>{s.wordlist.getCustomNote(z)&&_(zi)})}var fi=n(mi,2);{var Ni=_=>{var C=Yi(),T=n(F(C),2),M=n(e(T),2),j=e(M,!0);i(M),i(T);var G=n(T,2);{var ti=y=>{var b=Qi(),Z=n(e(b),2),q=e(Z),B=R(()=>hi(t(v).etymology.hint));si(q,()=>t(B)),i(Z),i(b),d(y,b)};D(G,y=>{t(v).etymology.hint&&t(v).etymology.type!=="pictophonetic"&&y(ti)})}var ui=n(G,2);{var Mi=y=>{var b=Ui(),Z=n(e(b),2),q=e(Z),B=R(()=>s.wordlist.getCharDecompData(t(v).etymology.semantic));V(q,()=>t(B)),i(Z),i(b),d(y,b)};D(ui,y=>{t(v).etymology.semantic&&y(Mi)})}var Pi=n(ui,2);{var ji=y=>{var b=Vi(),Z=n(e(b),2),q=e(Z),B=R(()=>s.wordlist.getCharDecompData(t(v).etymology.phonetic));V(q,()=>t(B)),i(Z),i(b),d(y,b)};D(Pi,y=>{t(v).etymology.phonetic&&y(ji)})}O(()=>w(j,t(v).etymology.type)),d(_,C)};D(fi,_=>{t(v).etymology&&_(Ni)})}var Zi=n(fi,2);{var Ei=_=>{var C=$i(),T=n(F(C),2),M=n(e(T),2);K(M,21,()=>di(t(v).decomposition),L,(j,G)=>{var ti=R(()=>s.wordlist.getCharDecompData(t(G)));V(j,()=>t(ti))}),i(M),i(T),d(_,C)};D(Zi,_=>{Ci(t(v).decomposition)&&_(Ei)})}i(N),i(c),O((_,C)=>{Q(c,`--tone-color: ${_??""}`),w(u,t(v).character),w(p,C),w(Ri,t(v).definition??"")},[()=>{var _;return s.toneColors[U(((_=t(v).pinyin)==null?void 0:_[0])??"")-1]},()=>{var _;return li(((_=t(v).pinyin)==null?void 0:_[0])??"",s.zhReading)}]),d(l,c)}),d(r,a)},V=(r,a=H)=>{var o=J(),h=F(o);{var S=l=>{var v=te(),c=e(v);c.__click=[ae,ci,a];var x=e(c),k=e(x,!0);i(x);var u=n(x,2),m=e(u,!0);i(u),i(c);var p=n(c,4),N=e(p,!0);i(p),i(v),O((g,E)=>{Q(v,`--tone-color: ${g??""}`),w(k,a().character),w(m,E),w(N,a().definition??"")},[()=>{var g;return s.toneColors[U(((g=a().pinyin)==null?void 0:g[0])??"")-1]},()=>{var g;return li(((g=a().pinyin)==null?void 0:g[0])??"",s.zhReading)}]),d(l,v)};D(h,l=>{a()&&l(S)})}d(r,o)},ri=(r,a=H,o=H)=>{var h=J(),S=F(h);K(S,17,a,L,(l,v,c)=>{var x=ve(),k=e(x);W(k,()=>t(v)),i(x),O(()=>Q(x,`color: ${o()[c]??""}`)),d(l,x)}),d(r,h)},si=(r,a=H)=>{var o=J(),h=F(o);K(h,17,a,L,(S,l)=>{var v=J(),c=F(v);{var x=u=>{var m=re(),p=e(m);W(p,()=>t(l).text),i(m),O(N=>Q(m,`color: ${N??""}`),[()=>wi(t(l).text)]),d(u,m)},k=u=>{var m=se(),p=e(m,!0);i(m),O(()=>w(p,t(l).text)),d(u,m)};D(c,u=>{t(l).isChineseChar?u(x):u(k,!1)})}d(S,v)}),d(r,o)},W=(r,a=H)=>{var o=oe();o.__click=[ne,ci,a];var h=e(o,!0);i(o),O(()=>w(h,a())),d(r,o)};let ni=Xi(s,"isOpenChildrenDict",15),z=s.charData.characters??"",oi=s.charData.tones.map(r=>s.toneColors[r-1])??[],ki=Ii(()=>s.wordlist.getWordDecompData(z)),pi=z.length>1;function li(r,a){return a===Ai.Zhuyin?Gi.pinyinToZhuyin(r):r}function di(r){let a=Ji(r);return a=a.replace(/\uFF1F/gu,""),a.split("")}function Ci(r){return di(r).length>0}let X=gi(void 0),Y=gi(!1);function ci(r){var o;if(r===z)return;const a=s.wordlist.getCharDecompData(r);vi(X,{characters:r,tones:[U(((o=a==null?void 0:a.pinyin)==null?void 0:o[0])??"")],meaning:(a==null?void 0:a.definition)??""},!0),ni(!0)}function yi(){vi(X,void 0),ni(!1)}function bi(r){var o;const a=s.wordlist.getCharDecompData(r);return U(((o=a==null?void 0:a.pinyin)==null?void 0:o[0])??"")}function wi(r){const a=bi(r);return s.toneColors[a-1]}var $=_e(),Di=e($);{var Si=r=>{var a=ce(),o=F(a);{var h=l=>{var v=de();v.__click=[le,yi];var c=n(e(v));i(v),O(()=>w(c,` ${z??""}`)),d(l,v)};D(o,l=>{t(Y)||l(h)})}var S=n(o,2);xe(S,{get charData(){return t(X)},get wordlist(){return s.wordlist},get toneColors(){return s.toneColors},get zhReading(){return s.zhReading},get isOpenChildrenDict(){return t(Y)},set isOpenChildrenDict(l){vi(Y,l,!0)}}),d(r,a)},Ti=r=>{P(r)};D(Di,r=>{t(X)?r(Si):r(Ti,!1)})}i($),d(I,$),Hi()}qi(["click"]);export{xe as Z};
