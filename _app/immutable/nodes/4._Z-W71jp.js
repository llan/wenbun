import"../chunks/CWj6FrbW.js";import{i as j}from"../chunks/DwQ4UNdG.js";import{d as E,o as H,s as m}from"../chunks/rJ17riUA.js";import{o as J,q as S,w as b,x as K,y as u,z as N,A as l,g as a,b as k,B as i,C as s,F as O,G as Q}from"../chunks/BUJD4ESD.js";import{i as R}from"../chunks/CtJDf-hQ.js";import{A as V,T as W,D as q,l as X,e as Y,i as Z}from"../chunks/DiU84KLm.js";import{s as aa}from"../chunks/BsQgQLpl.js";import{S as ea}from"../chunks/B7PKavCk.js";var sa=(f,n,e)=>n(a(e).id),ta=b('<div class="deck-card-container svelte-1yn434b"><div class="deck-card svelte-1yn434b"><div class="left"><span class="deck-card-title svelte-1yn434b"> </span> <span class="deck-card-subtitle svelte-1yn434b"> </span></div> <div class="right"><span class="deck-card-count svelte-1yn434b"> </span></div></div> <button title="Add deck" aria-label="Add deck"><i class="fa-solid fa-plus"></i></button></div>'),ia=b('<div class="deck-list-container svelte-1yn434b"></div>'),da=b('<!> <div class="main-container svelte-1yn434b"><!></div>',1);function ma(f,n){J(n,!1);let e=S(new V),y=new ea,g=S(!1);H(async()=>{await a(e).init(),await T(),k(e,a(e)),k(g,!0)});async function T(){await Promise.allSettled(q.map(async t=>{const d=await X(t.id);d&&y.set(t.id,{cardCount:d.length})}))}async function z(t){await a(e).addDeck(t),k(e,a(e))}j();var w=da(),D=K(w);W(D,{title:"Browse Decks",backUrl:"/"});var h=l(D,2),F=i(h);{var G=t=>{var d=ia();Y(d,5,()=>q,Z,(I,r)=>{var o=ta(),v=i(o),p=i(v),_=i(p),L=i(_,!0);s(_);var x=l(_,2),P=i(x,!0);s(x),s(p);var A=l(p,2),M=i(A),U=i(M);s(M),s(A),s(v);var B=l(v,2);let C;B.__click=[sa,z,r],s(o),O((c,$)=>{m(L,a(r).title),m(P,a(r).subtitle),m(U,`${c??""} cards`),C=aa(B,1,"deck-add-button svelte-1yn434b",null,C,$)},[()=>{var c;return((c=y.get(a(r).id))==null?void 0:c.cardCount)??0},()=>({invisible:a(e).decks.includes(a(r).id)})],Q),u(I,o)}),s(d),u(t,d)};R(F,t=>{a(g)&&t(G)})}s(h),u(f,w),N()}E(["click"]);export{ma as component};
