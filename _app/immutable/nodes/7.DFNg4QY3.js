import"../chunks/CWj6FrbW.js";import"../chunks/CzuHQAlO.js";import{a1 as zt,p as le,a2 as n,a3 as ne,a4 as m,a5 as ce,f as D,a as Et,t as C,b,c as ue,s as r,a6 as Ot,i as t,K as o,d as a,j as l,M as tt,r as e,a7 as Lt,e as u,a8 as Nt}from"../chunks/D4HdPs5E.js";import{i as R}from"../chunks/Bw_0fAwL.js";import{e as Rt,i as jt}from"../chunks/B7geMYGs.js";import{T as _e,s as pe,r as ye}from"../chunks/BN20HwmF.js";import{s as fe}from"../chunks/Ds6VENQq.js";import{s as I}from"../chunks/WdiivfIN.js";import{b as we}from"../chunks/Bssusz0M.js";import{b as Gt}from"../chunks/0yBoTa1U.js";import{i as ge}from"../chunks/Dr98OFL6.js";import{p as me}from"../chunks/un3tHoYv.js";import{b as Mt,a as be}from"../chunks/jAtUjZP4.js";import{A as xe,E as P}from"../chunks/Nk0CVteL.js";import{D as Se}from"../chunks/b6birUnZ.js";import{L as Ce}from"../chunks/D1zQeUId.js";const he=({url:T})=>({deckId:T.searchParams.get("id")||""}),Ke=Object.freeze(Object.defineProperty({__proto__:null,load:he},Symbol.toStringTag,{value:"Module"}));zt(["click"]);var ke=D("<option> </option>"),Ie=D("<option> </option>"),Pe=D('<div class="extra-study-row svelte-14wo6yd"><div>Group :</div> <div><select></select></div></div>'),De=(T,$)=>$(),Te=D('<div class="deck-info svelte-14wo6yd"><span class="deck-card-title"> </span> <span class="deck-card-subtitle svelte-14wo6yd"> </span> <div class="loading svelte-14wo6yd"><!></div></div> <div class="table-container"><table class="count-table svelte-14wo6yd"><tbody><tr class="row-count-new svelte-14wo6yd"><td>New</td><td class="count svelte-14wo6yd"> </td></tr><tr class="row-count-learn-relearn svelte-14wo6yd"><td>Learning</td><td class="count svelte-14wo6yd"> </td></tr><tr class="row-count-previously-studied svelte-14wo6yd"><td>Previously Studied</td><td class="count svelte-14wo6yd"> </td></tr><tr class="row-count-review svelte-14wo6yd"><td>Review</td><td class="count svelte-14wo6yd"> </td></tr></tbody></table></div> <div class="progress-container svelte-14wo6yd"><div class="section-title svelte-14wo6yd">Progress</div> <div class="progress-bar-container svelte-14wo6yd"><div class="bar ignored svelte-14wo6yd" title="Ignored"></div> <div class="bar previously-studied svelte-14wo6yd" title="Previously Studied"></div> <div class="bar young svelte-14wo6yd" title="Young"></div> <div class="bar mature svelte-14wo6yd" title="Mature"></div> <div class="bar rest svelte-14wo6yd"></div></div> <div><span> </span> <span style="opacity: 0.5;"> </span></div></div> <div class="extra-study-container svelte-14wo6yd"><div class="section-title svelte-14wo6yd">Extra Study</div> <div class="extra-study-help svelte-14wo6yd">Study more without affecting the SRS schedule</div> <div class="extra-study-row svelte-14wo6yd"><div>Count :</div> <div><input type="number"/></div></div> <div class="extra-study-row svelte-14wo6yd"><div>Type :</div> <div><select></select></div></div> <!> <div class="extra-study-description svelte-14wo6yd"><span class="desc"> </span> <span class="subdesc svelte-14wo6yd"> </span></div> <button class="button">Extra Study</button></div>',1),$e=D('<!> <div class="container svelte-14wo6yd"><!></div> <div class="bottom-bar svelte-14wo6yd"><a><!></a></div>',1);function We(T,$){le($,!1);const s=n(),f=n(),_=n(),et=n(),at=n(),E=n(),h=n();let O=me($,"data",8),d=n(new xe),rt=n(!1),j=n(!1),st=n(!1);ne(async()=>{await t(d).init(),dt();const i=await t(d).initProfile();l(st,!0),i&&dt()});function dt(){var i,c;l(d,t(d)),l(x,((c=(i=t(d).deckData[O().deckId??""])==null?void 0:i.groups[0])==null?void 0:c.label)??""),l(rt,!0),l(j,t(d).getNextCard(O().deckId??"")===void 0)}function At(i){return Se.find(c=>c.id===i)??{id:i,title:i,subtitle:""}}let L=n(20),w=n(P.StudiedCards),x=n("");function Bt(){const i=t(d).extraStudyHandler.getCardIds(t(s).id,t(E)),c=encodeURIComponent(JSON.stringify(i));be(`${Mt}/review?id=${t(s).id}&isExtraStudy=true&cardIds=${c}`)}m(()=>tt(O()),()=>{l(s,At(O().deckId??""))}),m(()=>(t(d),t(s)),()=>{l(f,t(d).getDeckProgress(t(s).id))}),m(()=>(t(d),t(s)),()=>{l(_,t(d).getDeckProgressNormalized(t(s).id))}),m(()=>t(f),()=>{l(et,t(f).youngCount+t(f).matureCount)}),m(()=>t(f),()=>{l(at,t(f).totalCount-t(f).ignoredCount)}),m(()=>(t(w),t(L),t(x)),()=>{l(E,{type:t(w),count:t(L),group:t(x)})}),m(()=>(t(d),t(s),t(E)),()=>{l(h,t(d).extraStudyHandler.getDescription(t(s).id,t(E)))}),ce(),ge();var it=$e(),ot=Et(it);_e(ot,{title:"Overview"});var G=r(ot,2),Ht=a(G);{var Ut=i=>{var c=Te(),M=Et(c),z=a(M),Kt=a(z,!0);e(z);var A=r(z,2),Wt=a(A,!0);e(A);var nt=r(A,2),Ft=a(nt);{var Qt=v=>{Ce(v)};R(Ft,v=>{t(st)||v(Qt)})}e(nt),e(M);var B=r(M,2),ct=a(B),ut=a(ct),H=a(ut),_t=r(a(H)),Vt=a(_t,!0);e(_t),e(H);var U=r(H),pt=r(a(U)),Xt=a(pt,!0);e(pt),e(U);var Y=r(U),yt=r(a(Y)),Zt=a(yt,!0);e(yt),e(Y);var ft=r(Y),wt=r(a(ft)),te=a(wt,!0);e(wt),e(ft),e(ut),e(ct),e(B);var q=r(B,2),J=r(a(q),2),gt=a(J),mt=r(gt,2),bt=r(mt,2),xt=r(bt,2),ee=r(xt,2);e(J);var St=r(J,2),K=a(St),ae=a(K,!0);e(K);var Ct=r(K,2),re=a(Ct);e(Ct),e(St),e(q);var ht=r(q,2),W=r(a(ht),4),kt=r(a(W),2),It=a(kt);ye(It),e(kt),e(W);var F=r(W,2),Pt=r(a(F),2),Q=a(Pt);C(()=>{t(w),Lt(()=>{})}),Rt(Q,5,()=>(tt(P),o(()=>Object.values(P))),jt,(v,y)=>{var p=ke(),g=a(p,!0);e(p);var S={};C(()=>{u(g,t(y)),S!==(S=t(y))&&(p.value=(p.__value=t(y))??"")}),b(v,p)}),e(Q),e(Pt),e(F);var Dt=r(F,2);{var se=v=>{var y=Pe(),p=r(a(y),2),g=a(p);C(()=>{t(x),Lt(()=>{t(d),t(s)})}),Rt(g,5,()=>(t(d),t(s),o(()=>t(d).getGroupLabels(t(s).id))),jt,(S,Z)=>{var k=Ie(),ve=a(k,!0);e(k);var $t={};C(()=>{u(ve,t(Z)),$t!==($t=t(Z))&&(k.value=(k.__value=t(Z))??"")}),b(S,k)}),e(g),e(p),e(y),Gt(g,()=>t(x),S=>l(x,S)),b(v,y)};R(Dt,v=>{t(w),tt(P),o(()=>t(w)===P.Group)&&v(se)})}var V=r(Dt,2),X=a(V),de=a(X,!0);e(X);var Tt=r(X,2),ie=a(Tt,!0);e(Tt),e(V);var oe=r(V,2);oe.__click=[De,Bt],e(ht),C((v,y,p,g)=>{u(Kt,(t(s),o(()=>t(s).title))),u(Wt,(t(s),o(()=>t(s).subtitle))),u(Vt,v),u(Xt,y),u(Zt,p),u(te,g),I(gt,`width: ${t(_),o(()=>t(_).ignored)??""}%`),I(mt,`width: ${t(_),o(()=>t(_).previouslyStudied)??""}%`),I(bt,`width: ${t(_),o(()=>t(_).young)??""}%`),I(xt,`width: ${t(_),o(()=>t(_).mature)??""}%`),I(ee,`width: ${t(_),o(()=>t(_).rest)??""}%`),u(ae,t(et)),u(re,`/ ${t(at)??""}`),u(de,(t(h),o(()=>t(h).desc))),u(ie,(t(h),o(()=>t(h).subdesc)))},[()=>(t(d),t(s),o(()=>t(d).getScheduledNewOrWarmUpCardsCount(t(s).id))),()=>(t(d),t(s),o(()=>t(d).getLearningRelearningCardsCount(t(s).id))),()=>(t(d),t(s),o(()=>t(d).getPreviouslyStudiedCardCount(t(s).id))),()=>(t(d),t(s),o(()=>t(d).getScheduledReviewCardsCount(t(s).id)))],Ot),we(It,()=>t(L),v=>l(L,v)),Gt(Q,()=>t(w),v=>l(w,v)),b(i,c)};R(Ht,i=>{t(rt)&&i(Ut)})}e(G);var vt=r(G,2),N=a(vt);let lt;var Yt=a(N);{var qt=i=>{var c=Nt("You're done for today");b(i,c)},Jt=i=>{var c=Nt("Study");b(i,c)};R(Yt,i=>{t(j)?i(qt):i(Jt,!1)})}e(N),e(vt),C(i=>{lt=fe(N,1,"button svelte-14wo6yd",null,lt,i),pe(N,"href",`${Mt??""}/review?id=${t(s),o(()=>t(s).id)??""}`)},[()=>({disabled:t(j)})],Ot),b(T,it),ue()}zt(["click"]);export{We as component,Ke as universal};
