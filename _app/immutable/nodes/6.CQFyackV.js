import"../chunks/CWj6FrbW.js";import"../chunks/e1-x02pv.js";import{p as T,a5 as q,f as w,a as F,b as c,c as I,s as p,d as W,i as o,a4 as R,j as A,r as v,t as f,a8 as u,e as _,aa as E}from"../chunks/B3vXJgDE.js";import{i as G}from"../chunks/BMd2rG11.js";import{e as x,i as z}from"../chunks/Cf-085yO.js";import{s as H}from"../chunks/BgSIpHGp.js";import{i as J}from"../chunks/DRVz_ard.js";import"../chunks/D9EQzb-w.js";import{C as K,M as L,l as N}from"../chunks/NeAu8v0G.js";import{T as O}from"../chunks/-bR0FToJ.js";var Q=w("<div> <!></div>"),U=w("<div> </div>"),V=w('<!> <div class="container svelte-1ncw3nw">Word existence in the dictionary check <!> <br/><br/> Word support by HanziWriter check <!></div>',1);function nt($,b){T(b,!1);let d=[],m=new K,e=R([]);q(async()=>{await m.init("zh"),await Promise.all(L.map(async a=>{const t=await N(a.src);t&&d.push({id:a.id,words:t})})),d=d.sort((a,t)=>a.id.localeCompare(t.id)),B(d)});function B(a){for(const t of a){const r=M(t.words),i=t.words.length,s=i-r.length,n=t.words.filter(h=>m.isWordSupportedByHanziWriter(h)).length;o(e).push({id:t.id,totalWordCount:i,totalWordsWithDictData:s,totalWordsSupportedByHanziWriter:n,missingWords:r}),A(e,o(e))}}function S(a,t){return a.slice(0,t)}function M(a){return a.filter(t=>!m.dict[t])}J();var g=V(),y=F(g);O(y,{title:"Health Check"});var C=p(y,2),k=p(W(C));x(k,1,()=>o(e),z,(a,t)=>{var r=Q();let i;var s=W(r),n=p(s);{var h=l=>{var D=E();f(P=>_(D,`[missing words: ${P??""}, ...]`),[()=>S(o(t).missingWords,5).join(", ")],u),c(l,D)};G(n,l=>{o(t).missingWords.length>0&&l(h)})}v(r),f(l=>{i=H(r,1,"svelte-1ncw3nw",null,i,l),_(s,`${o(t).id??""}: ${o(t).totalWordsWithDictData??""}/${o(t).totalWordCount??""} `)},[()=>({"is-healthy":o(t).totalWordsWithDictData===o(t).totalWordCount})],u),c(a,r)});var j=p(k,5);x(j,1,()=>o(e),z,(a,t)=>{var r=U();let i;var s=W(r);v(r),f(n=>{i=H(r,1,"svelte-1ncw3nw",null,i,n),_(s,`${o(t).id??""}: ${o(t).totalWordsSupportedByHanziWriter??""}/${o(t).totalWordCount??""}`)},[()=>({"is-healthy":o(t).totalWordsSupportedByHanziWriter===o(t).totalWordCount})],u),c(a,r)}),v(C),c($,g),I()}export{nt as component};
