import"../chunks/CWj6FrbW.js";import"../chunks/C7vLGdXP.js";import{d as te,o as se,s as p}from"../chunks/CLpbRZ0x.js";import{p as re,S as j,ai as T,aj as ie,f as b,a as oe,t as q,b as g,c as le,h as e,i as m,s as o,d as i,r,ak as ne,G as B,a7 as v}from"../chunks/DjN3b0Ki.js";import{i as N}from"../chunks/Bu_gglvj.js";import{e as ce,i as ve}from"../chunks/D2VCDp_j.js";import{T as de,s as y}from"../chunks/h8kNwrcF.js";import{i as ue}from"../chunks/CYG9lWKH.js";import{b as _}from"../chunks/BwjUvidR.js";import{A as pe,D as ge}from"../chunks/BXxvZzqz.js";function me(z,d){e(d).profile.loginGoogle(e(d))}function be(z,d,f){window.confirm("Are you sure you want to stay logged out? You might need to sync manually later")&&(e(d).profile.updateLoginStatus(void 0),m(f,e(d).profile.isAutomaticallyLoggedOut()))}var _e=b('<a class="deck-card svelte-1xzbmqj"><div class="left"><span class="deck-card-title svelte-1xzbmqj"> </span> <span class="deck-card-subtitle svelte-1xzbmqj"> </span></div> <div class="right svelte-1xzbmqj"><span class="deck-count-learn-relearn svelte-1xzbmqj" title="learning"> </span> <span class="deck-count-review svelte-1xzbmqj" title="review"> </span> <span class="deck-count-new svelte-1xzbmqj" title="new"> </span> <span class="deck-count-previously-studied svelte-1xzbmqj" title="previously studied"> </span></div></a>'),fe=b('<a class="a-button svelte-1xzbmqj">Add New Deck</a>'),xe=b('<div class="deck-card-container svelte-1xzbmqj"><!> <a class="deck-card-button svelte-1xzbmqj" title="Deck Info" aria-label="Deck Info"><i class="fa-solid fa-list"></i></a></div>'),ke=b('<div class="deck-list-container svelte-1xzbmqj"></div>'),he=b(`<div class="auto-logout-info-container svelte-1xzbmqj"><div><i class="fa-solid fa-circle-info" style="color: #3E92CC;"></i> <p>You are <b>unexpectedly logged out</b> due to session expiration or server issue.
                    Try logging in again.</p> <p class="note svelte-1xzbmqj">(*Please report to the developer if this happens frequently.)</p> <div><button class="button svelte-1xzbmqj"><i class="fa-brands fa-google"></i>&nbsp;
                        Log in with Google</button> <button class="button invert svelte-1xzbmqj"><i class="fa-solid fa-ban"></i>&nbsp;
                        Stay Logged Out</button></div></div></div>`),je=b('<!> <div class="main-container svelte-1xzbmqj"><div class="top-container svelte-1xzbmqj"><a class="a-button svelte-1xzbmqj" style="background-color: #A0D0F0;">Changelog</a> <!></div> <div class="hr svelte-1xzbmqj"></div> <!></div>',1);function We(z,d){re(d,!1);const f=j(),x=j(),R=(t,a=ne)=>{var c=_e(),l=i(c),n=i(l),u=i(n,!0);r(n);var h=o(n,2),C=i(h,!0);r(h),r(l);var G=o(l,2),D=i(G),J=i(D,!0);r(D);var S=o(D,2),K=i(S,!0);r(S);var A=o(S,2),Q=i(A,!0);r(A);var P=o(A,2),V=i(P,!0);r(P),r(G),r(c),q((X,Z,ee,ae)=>{y(c,"href",`${_??""}/overview?id=${a(),v(()=>a().id)??""}`),p(u,(a(),v(()=>a().title))),p(C,(a(),v(()=>a().subtitle))),p(J,X),p(K,Z),p(Q,ee),p(V,ae)},[()=>(e(s),a(),v(()=>e(s).getLearningRelearningCardsCount(a().id)||"")),()=>(e(s),a(),v(()=>e(s).getScheduledReviewCardsCount(a().id)||"")),()=>(e(s),a(),v(()=>e(s).getScheduledNewOrWarmUpCardsCount(a().id)||"")),()=>(e(s),a(),v(()=>e(s).getScheduledPreviouslyStudiedCardsCount(a().id)||""))],B),g(t,c)};let s=j(new pe),k=j(!1);se(async()=>{await e(s).init(),m(s,e(s)),Y();const t=await e(s).initProfile();m(k,e(s).profile.isAutomaticallyLoggedOut()),t&&m(s,e(s))});function Y(){"serviceWorker"in navigator&&navigator.serviceWorker.register(`${_}/service-worker.js`).then(t=>{}).catch(t=>console.error("SW registration failed:",t))}function E(t){return ge.find(a=>a.id===t)??{id:t,title:t,subtitle:""}}T(()=>e(s),()=>{m(f,Object.keys(e(s).deckData))}),T(()=>e(k),()=>{m(x,e(k))}),ie(),ue();var L=je(),O=oe(L);de(O,{title:"WenBun (beta)"});var W=o(O,2),w=i(W),$=i(w),F=o($,2);{var I=t=>{var a=fe();q(()=>y(a,"href",`${_??""}/deck-browser/`)),g(t,a)};N(F,t=>{e(x)||t(I)})}r(w);var M=o(w,4);{var U=t=>{var a=ke();ce(a,5,()=>e(f),ve,(c,l)=>{var n=xe(),u=i(n),h=B(()=>(e(l),v(()=>E(e(l)))));R(u,()=>e(h));var C=o(u,2);r(n),q(()=>y(C,"href",`${_??""}/deck?id=${e(l)??""}`)),g(c,n)}),r(a),g(t,a)},H=t=>{var a=he(),c=i(a),l=o(i(c),6),n=i(l);n.__click=[me,s];var u=o(n,2);u.__click=[be,s,k],r(l),r(c),r(a),g(t,a)};N(M,t=>{e(x)?t(H,!1):t(U)})}r(W),q(()=>y($,"href",`${_??""}/about/`)),g(z,L),le()}te(["click"]);export{We as component};
