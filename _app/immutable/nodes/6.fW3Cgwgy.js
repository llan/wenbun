import"../chunks/CWj6FrbW.js";import"../chunks/e1y9C63k.js";import{o as T,s as _}from"../chunks/BzFAuoMn.js";import{p as j,f as y,a as q,b as d,c as B,s as m,d as g,h as a,X as F,i as I,r as w,t as W,H as k,am as P}from"../chunks/BqfnsoT0.js";import{i as R}from"../chunks/SbZFkT06.js";import{e as U,i as X}from"../chunks/4L0NknSj.js";import{s as A}from"../chunks/D7BTPPfp.js";import{i as E}from"../chunks/BEabaf4r.js";import{b as G}from"../chunks/0thJK1pv.js";import{C as J,M as K,l as L}from"../chunks/BwjUfq8s.js";import{T as N}from"../chunks/B7pZ-LzU.js";var O=y("<div> <!></div>"),Q=y('<!> <div class="container svelte-1ncw3nw">Word existence in the dictionary check <!></div>',1);function nt(C,D){j(D,!1);let n=[],f=new J,c=F([]);T(async()=>{await f.init("zh"),await Promise.all(K.map(async s=>{const t=await L(s.src);t&&n.push({id:s.id,words:t})})),n=n.sort((s,t)=>s.id.localeCompare(t.id)),b(n)});function b(s){for(const t of s){const i=H(t.words),o=t.words.length,e=o-i.length,l=e===o;a(c).push({id:t.id,totalWordCount:o,totalWordsWithDictData:e,isHealthy:l,missingWords:i}),I(c,a(c))}}function x(s,t){return s.slice(0,t)}function H(s){return s.filter(t=>!f.dict[t])}E();var h=Q(),p=q(h);N(p,{title:"Health Check",get backUrl(){return`${G??""}/`}});var v=m(p,2),$=m(g(v));U($,1,()=>a(c),X,(s,t)=>{var i=O();let o;var e=g(i),l=m(e);{var M=r=>{var u=P();W(z=>_(u,`[missing words: ${z??""}, ...]`),[()=>x(a(t).missingWords,5).join(", ")],k),d(r,u)};R(l,r=>{a(t).isHealthy||r(M)})}w(i),W(r=>{o=A(i,1,"svelte-1ncw3nw",null,o,r),_(e,`${a(t).id??""}: ${a(t).totalWordsWithDictData??""}/${a(t).totalWordCount??""} `)},[()=>({"is-healthy":a(t).isHealthy})],k),d(s,i)}),w(v),d(C,h),B()}export{nt as component};
