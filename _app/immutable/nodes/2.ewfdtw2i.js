import"../chunks/CWj6FrbW.js";import"../chunks/D12B_2YD.js";import{d as ae,o as te,s as p}from"../chunks/DHzHPe8k.js";import{p as se,P as j,ag as T,ah as re,f as m,a as ie,t as q,b as g,c as oe,h as a,i as _,s as o,d as i,r,ai as le,A as B,a3 as c}from"../chunks/DkA9jLS_.js";import{i as N}from"../chunks/0GsRM2Fi.js";import{e as ne,i as ve}from"../chunks/Bw1cR02L.js";import{T as ce,s as y}from"../chunks/CRQyXenr.js";import{i as de}from"../chunks/EGtqtshi.js";import{b}from"../chunks/DfFDKNy7.js";import{A as ue,D as pe}from"../chunks/BHbUbeCh.js";function ge(z,d){a(d).profile.loginGoogle(a(d))}function me(z,d,f){window.confirm("Are you sure you want to stay logged out? You might need to sync manually later")&&(a(d).profile.updateLoginStatus(void 0),_(f,a(d).profile.isAutomaticallyLoggedOut()))}var be=m('<a class="deck-card svelte-1xzbmqj"><div class="left"><span class="deck-card-title svelte-1xzbmqj"> </span> <span class="deck-card-subtitle svelte-1xzbmqj"> </span></div> <div class="right svelte-1xzbmqj"><span class="deck-count-learn-relearn svelte-1xzbmqj" title="learning"> </span> <span class="deck-count-review svelte-1xzbmqj" title="review"> </span> <span class="deck-count-new svelte-1xzbmqj" title="new"> </span> <span class="deck-count-previously-studied svelte-1xzbmqj" title="previously studied"> </span></div></a>'),_e=m('<a class="a-button svelte-1xzbmqj">Add New Deck</a>'),fe=m('<div class="deck-card-container svelte-1xzbmqj"><!> <a class="deck-card-button svelte-1xzbmqj" title="Deck Info" aria-label="Deck Info"><i class="fa-solid fa-list"></i></a></div>'),xe=m('<div class="deck-list-container svelte-1xzbmqj"></div>'),ke=m(`<div class="auto-logout-info-container svelte-1xzbmqj"><div><i class="fa-solid fa-circle-info" style="color: #3E92CC;"></i> <p>You are <b>unexpectedly logged out</b> due to session expiration or server issue.
                    Try logging in again.</p> <p class="note svelte-1xzbmqj">(*Please report to the developer if this happens frequently.)</p> <div><button class="button svelte-1xzbmqj"><i class="fa-brands fa-google"></i>&nbsp;
                        Log in with Google</button> <button class="button invert svelte-1xzbmqj"><i class="fa-solid fa-ban"></i>&nbsp;
                        Stay Logged Out</button></div></div></div>`),he=m('<!> <div class="main-container svelte-1xzbmqj"><div class="top-container svelte-1xzbmqj"><a class="a-button svelte-1xzbmqj" style="background-color: #A0D0F0;">Changelog</a> <!></div> <div class="hr svelte-1xzbmqj"></div> <!></div>',1);function Se(z,d){se(d,!1);const f=j(),x=j(),R=(t,e=le)=>{var v=be(),l=i(v),n=i(l),u=i(n,!0);r(n);var h=o(n,2),C=i(h,!0);r(h),r(l);var G=o(l,2),A=i(G),H=i(A,!0);r(A);var D=o(A,2),J=i(D,!0);r(D);var L=o(D,2),K=i(L,!0);r(L);var P=o(L,2),Q=i(P,!0);r(P),r(G),r(v),q((V,X,Z,ee)=>{y(v,"href",`${b??""}/overview?id=${e(),c(()=>e().id)??""}`),p(u,(e(),c(()=>e().title))),p(C,(e(),c(()=>e().subtitle))),p(H,V),p(J,X),p(K,Z),p(Q,ee)},[()=>(a(s),e(),c(()=>a(s).getLearningRelearningCardsCount(e().id)||"")),()=>(a(s),e(),c(()=>a(s).getScheduledReviewCardsCount(e().id)||"")),()=>(a(s),e(),c(()=>a(s).getScheduledNewOrWarmUpCardsCount(e().id)||"")),()=>(a(s),e(),c(()=>a(s).getScheduledPreviouslyStudiedCardsCount(e().id)||""))],B),g(t,v)};let s=j(new ue),k=j(!1);te(async()=>{await a(s).init(),_(k,a(s).profile.isAutomaticallyLoggedOut()),_(s,a(s)),"serviceWorker"in navigator&&navigator.serviceWorker.register(`${b}/service-worker.js`).then(t=>{}).catch(t=>console.error("SW registration failed:",t))});function Y(t){return pe.find(e=>e.id===t)??{id:t,title:t,subtitle:""}}T(()=>a(s),()=>{_(f,Object.keys(a(s).deckData))}),T(()=>a(k),()=>{_(x,a(k))}),re(),de();var O=he(),S=ie(O);ce(S,{title:"WenBun (beta)"});var W=o(S,2),w=i(W),$=i(w),E=o($,2);{var F=t=>{var e=_e();q(()=>y(e,"href",`${b??""}/deck-browser/`)),g(t,e)};N(E,t=>{a(x)||t(F)})}r(w);var I=o(w,4);{var M=t=>{var e=xe();ne(e,5,()=>a(f),ve,(v,l)=>{var n=fe(),u=i(n),h=B(()=>(a(l),c(()=>Y(a(l)))));R(u,()=>a(h));var C=o(u,2);r(n),q(()=>y(C,"href",`${b??""}/deck?id=${a(l)??""}`)),g(v,n)}),r(e),g(t,e)},U=t=>{var e=ke(),v=i(e),l=o(i(v),6),n=i(l);n.__click=[ge,s];var u=o(n,2);u.__click=[me,s,k],r(l),r(v),r(e),g(t,e)};N(I,t=>{a(x)?t(U,!1):t(M)})}r(W),q(()=>y($,"href",`${b??""}/about/`)),g(z,O),oe()}ae(["click"]);export{Se as component};
