import"../chunks/CWj6FrbW.js";import"../chunks/C4r475-v.js";import{d as te,o as se,s as p}from"../chunks/RBPXvu3a.js";import{p as re,X as j,ai as T,aj as ie,f as b,a as oe,t as q,b as g,c as le,h as e,i as m,s as o,d as i,r,ak as ne,H as B,a7 as v}from"../chunks/BaTYa0x0.js";import{i as N}from"../chunks/ChjkavKo.js";import{e as ce,i as ve}from"../chunks/CReqPYKR.js";import{T as de,s as y}from"../chunks/kv6JBz7x.js";import{i as ue}from"../chunks/BjD90q3E.js";import{b as f}from"../chunks/Bcg1A-YH.js";import{A as pe}from"../chunks/C6ACbIUC.js";import{D as ge}from"../chunks/ClazNTlN.js";function me(z,d){e(d).profile.loginGoogle(e(d))}function be(z,d,_){window.confirm("Are you sure you want to stay logged out? You might need to sync manually later")&&(e(d).profile.updateLoginStatus(void 0),m(_,e(d).profile.isAutomaticallyLoggedOut()))}var fe=b('<a class="deck-card svelte-1xzbmqj"><div class="left"><span class="deck-card-title svelte-1xzbmqj"> </span> <span class="deck-card-subtitle svelte-1xzbmqj"> </span></div> <div class="right svelte-1xzbmqj"><span class="deck-count-learn-relearn svelte-1xzbmqj" title="learning"> </span> <span class="deck-count-review svelte-1xzbmqj" title="review"> </span> <span class="deck-count-new svelte-1xzbmqj" title="new"> </span> <span class="deck-count-previously-studied svelte-1xzbmqj" title="previously studied"> </span></div></a>'),_e=b('<a class="a-button svelte-1xzbmqj">Add New Deck</a>'),xe=b('<div class="deck-card-container svelte-1xzbmqj"><!> <a class="deck-card-button svelte-1xzbmqj" title="Deck Info" aria-label="Deck Info"><i class="fa-solid fa-list"></i></a></div>'),ke=b('<div class="deck-list-container svelte-1xzbmqj"></div>'),he=b(`<div class="auto-logout-info-container svelte-1xzbmqj"><div><i class="fa-solid fa-circle-info" style="color: #3E92CC;"></i> <p>You are <b>unexpectedly logged out</b> due to session expiration or server issue.
                    Try logging in again.</p> <p class="note svelte-1xzbmqj">(*Please report to the developer if this happens frequently.)</p> <div><button class="button svelte-1xzbmqj"><i class="fa-brands fa-google"></i>&nbsp;
                        Log in with Google</button> <button class="button invert svelte-1xzbmqj"><i class="fa-solid fa-ban"></i>&nbsp;
                        Stay Logged Out</button></div></div></div>`),je=b('<!> <div class="main-container svelte-1xzbmqj"><div class="top-container svelte-1xzbmqj"><a class="a-button svelte-1xzbmqj" style="background-color: #A0D0F0;">Changelog</a> <!></div> <div class="hr svelte-1xzbmqj"></div> <!></div>',1);function $e(z,d){re(d,!1);const _=j(),x=j(),R=(t,a=ne)=>{var c=fe(),l=i(c),n=i(l),u=i(n,!0);r(n);var h=o(n,2),C=i(h,!0);r(h),r(l);var G=o(l,2),D=i(G),X=i(D,!0);r(D);var A=o(D,2),J=i(A,!0);r(A);var L=o(A,2),K=i(L,!0);r(L);var P=o(L,2),Q=i(P,!0);r(P),r(G),r(c),q((V,Z,ee,ae)=>{y(c,"href",`${f??""}/overview?id=${a(),v(()=>a().id)??""}`),p(u,(a(),v(()=>a().title))),p(C,(a(),v(()=>a().subtitle))),p(X,V),p(J,Z),p(K,ee),p(Q,ae)},[()=>(e(s),a(),v(()=>e(s).getLearningRelearningCardsCount(a().id)||"")),()=>(e(s),a(),v(()=>e(s).getScheduledReviewCardsCount(a().id)||"")),()=>(e(s),a(),v(()=>e(s).getScheduledNewOrWarmUpCardsCount(a().id)||"")),()=>(e(s),a(),v(()=>e(s).getScheduledPreviouslyStudiedCardsCount(a().id)||""))],B),g(t,c)};let s=j(new pe),k=j(!1);se(async()=>{await e(s).init(),m(s,e(s)),Y();const t=await e(s).initProfile();m(k,e(s).profile.isAutomaticallyLoggedOut()),t&&m(s,e(s))});function Y(){"serviceWorker"in navigator&&navigator.serviceWorker.register(`${f}/service-worker.js`).then(t=>{}).catch(t=>console.error("SW registration failed:",t))}function E(t){return ge.find(a=>a.id===t)??{id:t,title:t,subtitle:""}}T(()=>e(s),()=>{m(_,Object.keys(e(s).deckData))}),T(()=>e(k),()=>{m(x,e(k))}),ie(),ue();var S=je(),O=oe(S);de(O,{title:"WenBun (beta)"});var W=o(O,2),w=i(W),$=i(w),F=o($,2);{var H=t=>{var a=_e();q(()=>y(a,"href",`${f??""}/deck-browser/`)),g(t,a)};N(F,t=>{e(x)||t(H)})}r(w);var I=o(w,4);{var M=t=>{var a=ke();ce(a,5,()=>e(_),ve,(c,l)=>{var n=xe(),u=i(n),h=B(()=>(e(l),v(()=>E(e(l)))));R(u,()=>e(h));var C=o(u,2);r(n),q(()=>y(C,"href",`${f??""}/deck?id=${e(l)??""}`)),g(c,n)}),r(a),g(t,a)},U=t=>{var a=he(),c=i(a),l=o(i(c),6),n=i(l);n.__click=[me,s];var u=o(n,2);u.__click=[be,s,k],r(l),r(c),r(a),g(t,a)};N(I,t=>{e(x)?t(U,!1):t(M)})}r(W),q(()=>y($,"href",`${f??""}/about/`)),g(z,S),le()}te(["click"]);export{$e as component};
