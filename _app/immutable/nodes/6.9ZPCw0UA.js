import"../chunks/CWj6FrbW.js";import"../chunks/BwBI99aB.js";import{d as Mt,o as ae,s as c}from"../chunks/ycU_2_ja.js";import{K as de,L as n,M as y,N as ie,O as D,P as Pt,Q as w,R as b,S as oe,T as s,Y as Tt,g as t,d as o,V as r,b as v,q as X,W as e,_ as $t,aM as Et}from"../chunks/D5KdzY0j.js";import{i as Z}from"../chunks/B0cj2f_u.js";import{A as ve,E as h,D as le,e as Ot,i as Nt}from"../chunks/D7YVDKnD.js";import{T as ne,s as ce,r as ue}from"../chunks/BchW2rds.js";import{s as _e}from"../chunks/D3cWW_kC.js";import{s as I}from"../chunks/CBp0ZVcQ.js";import{b as pe}from"../chunks/BdMYB4Xh.js";import{b as Rt}from"../chunks/DNTGBZEe.js";import{i as me}from"../chunks/DaQO7wjj.js";import{p as xe}from"../chunks/MYtgBzKL.js";import{b as tt,g as ge}from"../chunks/BB5xDxxv.js";const fe=({url:P})=>({deckId:P.searchParams.get("id")||""}),je=Object.freeze(Object.defineProperty({__proto__:null,load:fe},Symbol.toStringTag,{value:"Module"}));Mt(["click"]);var ye=D("<option> </option>"),be=D("<option> </option>"),qe=D('<div class="extra-study-row svelte-mrxsqo"><div>Group :</div> <div><select></select></div></div>'),Se=(P,T)=>T(),we=D('<div class="deck-info svelte-mrxsqo"><span class="deck-card-title"> </span> <span class="deck-card-subtitle svelte-mrxsqo"> </span></div> <div class="table-container"><table class="count-table svelte-mrxsqo"><tbody><tr class="row-count-new svelte-mrxsqo"><td>New</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-learn-relearn svelte-mrxsqo"><td>Learning</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-previously-studied svelte-mrxsqo"><td>Previously Studied</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-review svelte-mrxsqo"><td>Review</td><td class="count svelte-mrxsqo"> </td></tr></tbody></table></div> <div class="progress-container svelte-mrxsqo"><div class="section-title svelte-mrxsqo">Progress</div> <div class="progress-bar-container svelte-mrxsqo"><div class="bar ignored svelte-mrxsqo" title="Ignored"></div> <div class="bar previously-studied svelte-mrxsqo" title="Previously Studied"></div> <div class="bar young svelte-mrxsqo" title="Young"></div> <div class="bar mature svelte-mrxsqo" title="Mature"></div> <div class="bar rest svelte-mrxsqo"></div></div> <div><span> </span> <span style="opacity: 0.5;"> </span></div></div> <div class="extra-study-container svelte-mrxsqo"><div class="section-title svelte-mrxsqo">Extra Study</div> <div class="extra-study-help svelte-mrxsqo">Study more without affecting the SRS schedule</div> <div class="extra-study-row svelte-mrxsqo"><div>Count :</div> <div><input type="number"/></div></div> <div class="extra-study-row svelte-mrxsqo"><div>Type :</div> <div><select></select></div></div> <!> <div class="extra-study-description svelte-mrxsqo"><span class="desc"> </span> <span class="subdesc svelte-mrxsqo"> </span></div> <button class="button svelte-mrxsqo">Extra Study</button></div>',1),ke=D('<!> <div class="container svelte-mrxsqo"><!></div> <div class="bottom-bar svelte-mrxsqo"><a><!></a></div>',1);function ze(P,T){de(T,!1);const a=n(),x=n(),u=n(),et=n(),rt=n(),$=n(),k=n();let E=xe(T,"data",8),d=n(new ve),st=n(!1),R=n(!1);ae(async()=>{var i,l;await t(d).init(),v(d,t(d)),v(q,((l=(i=t(d).deckData[E().deckId??""])==null?void 0:i.groups[0])==null?void 0:l.label)??""),v(st,!0),v(R,t(d).getNextCard(E().deckId??"")===void 0)});function Gt(i){return le.find(l=>l.id===i)??{id:i,title:i,subtitle:""}}let O=n(20),g=n(h.StudiedCards),q=n("");function Lt(){const i=t(d).extraStudyHandler.getCardIds(t(a).id,t($)),l=encodeURIComponent(JSON.stringify(i));ge(`${tt}/review?id=${t(a).id}&isExtraStudy=true&cardIds=${l}`)}y(()=>X(E()),()=>{v(a,Gt(E().deckId??""))}),y(()=>(t(d),t(a)),()=>{v(x,t(d).getDeckProgress(t(a).id))}),y(()=>(t(d),t(a)),()=>{v(u,t(d).getDeckProgressNormalized(t(a).id))}),y(()=>t(x),()=>{v(et,t(x).youngCount+t(x).matureCount)}),y(()=>t(x),()=>{v(rt,t(x).totalCount-t(x).ignoredCount)}),y(()=>(t(g),t(O),t(q)),()=>{v($,{type:t(g),count:t(O),group:t(q)})}),y(()=>(t(d),t(a),t($)),()=>{v(k,t(d).extraStudyHandler.getDescription(t(a).id,t($)))}),ie(),me();var at=ke(),dt=Pt(at);ne(dt,{title:"Overview",get backUrl(){return`${tt??""}/`}});var M=s(dt,2),jt=r(M);{var zt=i=>{var l=we(),G=Pt(l),L=r(G),Bt=r(L,!0);e(L);var vt=s(L,2),Ht=r(vt,!0);e(vt),e(G);var j=s(G,2),lt=r(j),nt=r(lt),z=r(nt),ct=s(r(z)),Wt=r(ct,!0);e(ct),e(z);var U=s(z),ut=s(r(U)),Jt=r(ut,!0);e(ut),e(U);var Y=s(U),_t=s(r(Y)),Kt=r(_t,!0);e(_t),e(Y);var pt=s(Y),mt=s(r(pt)),Qt=r(mt,!0);e(mt),e(pt),e(nt),e(lt),e(j);var A=s(j,2),B=s(r(A),2),xt=r(B),gt=s(xt,2),ft=s(gt,2),yt=s(ft,2),Vt=s(yt,2);e(B);var bt=s(B,2),H=r(bt),Ft=r(H,!0);e(H);var qt=s(H,2),Xt=r(qt);e(qt),e(bt),e(A);var St=s(A,2),W=s(r(St),4),wt=s(r(W),2),kt=r(wt);ue(kt),e(wt),e(W);var J=s(W,2),Ct=s(r(J),2),K=r(Ct);w(()=>{t(g),$t(()=>{})}),Ot(K,5,()=>(X(h),o(()=>Object.values(h))),Nt,(_,m)=>{var p=ye(),f=r(p,!0);e(p);var S={};w(()=>{c(f,t(m)),S!==(S=t(m))&&(p.value=(p.__value=t(m))??"")}),b(_,p)}),e(K),e(Ct),e(J);var ht=s(J,2);{var Zt=_=>{var m=qe(),p=s(r(m),2),f=r(p);w(()=>{t(q),$t(()=>{t(d),t(a)})}),Ot(f,5,()=>(t(d),t(a),o(()=>t(d).getGroupLabels(t(a).id))),Nt,(S,F)=>{var C=be(),se=r(C,!0);e(C);var Dt={};w(()=>{c(se,t(F)),Dt!==(Dt=t(F))&&(C.value=(C.__value=t(F))??"")}),b(S,C)}),e(f),e(p),e(m),Rt(f,()=>t(q),S=>v(q,S)),b(_,m)};Z(ht,_=>{t(g),X(h),o(()=>t(g)===h.Group)&&_(Zt)})}var Q=s(ht,2),V=r(Q),te=r(V,!0);e(V);var It=s(V,2),ee=r(It,!0);e(It),e(Q);var re=s(Q,2);re.__click=[Se,Lt],e(St),w((_,m,p,f)=>{c(Bt,(t(a),o(()=>t(a).title))),c(Ht,(t(a),o(()=>t(a).subtitle))),c(Wt,_),c(Jt,m),c(Kt,p),c(Qt,f),I(xt,`width: ${t(u),o(()=>t(u).ignored)??""}%`),I(gt,`width: ${t(u),o(()=>t(u).previouslyStudied)??""}%`),I(ft,`width: ${t(u),o(()=>t(u).young)??""}%`),I(yt,`width: ${t(u),o(()=>t(u).mature)??""}%`),I(Vt,`width: ${t(u),o(()=>t(u).rest)??""}%`),c(Ft,t(et)),c(Xt,`/ ${t(rt)??""}`),c(te,(t(k),o(()=>t(k).desc))),c(ee,(t(k),o(()=>t(k).subdesc)))},[()=>(t(d),t(a),o(()=>t(d).getScheduledNewOrWarmUpCardsCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getLearningRelearningCardsCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getPreviouslyStudiedCardCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getScheduledReviewCardsCount(t(a).id)))],Tt),pe(kt,()=>t(O),_=>v(O,_)),Rt(K,()=>t(g),_=>v(g,_)),b(i,l)};Z(jt,i=>{t(st)&&i(zt)})}e(M);var it=s(M,2),N=r(it);let ot;var Ut=r(N);{var Yt=i=>{var l=Et("You're done for today");b(i,l)},At=i=>{var l=Et("Study");b(i,l)};Z(Ut,i=>{t(R)?i(Yt):i(At,!1)})}e(N),e(it),w(i=>{ot=_e(N,1,"button svelte-mrxsqo",null,ot,i),ce(N,"href",`${tt??""}/review?id=${t(a),o(()=>t(a).id)??""}`)},[()=>({disabled:t(R)})],Tt),b(P,at),oe()}Mt(["click"]);export{ze as component,je as universal};
