import"../chunks/CWj6FrbW.js";import"../chunks/SiSAkwjt.js";import{ak as ae,p as Ae,a9 as o,al as De,am as I,an as Te,f as A,a as et,t as L,b as f,c as qe,s as r,X as Jt,i as t,n as l,d as a,j as d,P as mt,r as e,e as u,aq as Kt,ap as Vt}from"../chunks/C2k6CbEI.js";import{i as N}from"../chunks/Crl2Bchr.js";import{e as Zt,i as te}from"../chunks/DJAOMF32.js";import{T as Ee,s as Oe,r as at}from"../chunks/GdbsWXTA.js";import{s as gt}from"../chunks/BFp7uHGi.js";import{s as M}from"../chunks/B3jgN6p-.js";import{b as rt}from"../chunks/CMrEsRZ4.js";import{b as ee}from"../chunks/1wqpN5PF.js";import{i as Ne}from"../chunks/CBMlR3ml.js";import{p as Re}from"../chunks/B48BoX4-.js";import{b as $e}from"../chunks/DcoJXAFg.js";import{A as Ge,E as B}from"../chunks/BxxS8XqS.js";import"../chunks/BSb8eFOk.js";import{L as ze}from"../chunks/DJ1K1SSW.js";const He=({url:x})=>({deckId:x.searchParams.get("id")||""}),wa=Object.freeze(Object.defineProperty({__proto__:null,load:He},Symbol.toStringTag,{value:"Module"}));ae(["click"]);var Me=(x,c)=>d(c,!t(c)),Be=(x,c)=>c(),Ye=A(`<div class="section-help svelte-1rh9dw7">*Adjustment can be negative</div> <div class="section-row svelte-1rh9dw7"><div>Change today's <b>new card</b> limit by</div> <div><input type="number" class="short-input svelte-1rh9dw7"/></div></div> <div class="section-row svelte-1rh9dw7"><div>Change today's <b>previously studied</b> card limit by</div> <div><input type="number" class="short-input svelte-1rh9dw7"/></div></div> <div class="section-row svelte-1rh9dw7"><div>Change today's <b>review</b> limit by</div> <div><input type="number" class="short-input svelte-1rh9dw7"/></div></div> <button class="button">Adjust</button>`,1),Qe=(x,c)=>d(c,!t(c)),Ue=A("<option> </option>"),We=A("<option> </option>"),Xe=A('<div class="section-row svelte-1rh9dw7"><div>Group :</div> <div><select></select></div></div>'),Fe=(x,c)=>c(),Je=A('<div class="section-help svelte-1rh9dw7">Study more without affecting the SRS schedule</div> <div class="section-row svelte-1rh9dw7"><div>Count :</div> <input type="number"/></div> <div class="section-row svelte-1rh9dw7"><div>Type :</div> <div><select></select></div></div> <!> <div class="section-description svelte-1rh9dw7"><span class="desc"> </span> <span class="subdesc svelte-1rh9dw7"> </span></div> <button class="button">Extra Study</button>',1),Ke=A('<div class="deck-info svelte-1rh9dw7"><span class="deck-card-title"> </span> <span class="deck-card-subtitle svelte-1rh9dw7"> </span> <div class="loading svelte-1rh9dw7"><!></div></div> <div class="table-container"><table class="count-table svelte-1rh9dw7"><tbody><tr class="row-count-new svelte-1rh9dw7"><td>New</td><td class="count svelte-1rh9dw7"> </td></tr><tr class="row-count-learn-relearn svelte-1rh9dw7"><td>Learning</td><td class="count svelte-1rh9dw7"> </td></tr><tr class="row-count-previously-studied svelte-1rh9dw7"><td>Previously Studied</td><td class="count svelte-1rh9dw7"> </td></tr><tr class="row-count-review svelte-1rh9dw7"><td>Review</td><td class="count svelte-1rh9dw7"> </td></tr></tbody></table></div> <div class="progress-container svelte-1rh9dw7"><div class="section-title svelte-1rh9dw7">Progress</div> <div class="progress-bar-container svelte-1rh9dw7"><div class="bar ignored svelte-1rh9dw7" title="Ignored"></div> <div class="bar previously-studied svelte-1rh9dw7" title="Previously Studied"></div> <div class="bar young svelte-1rh9dw7" title="Young"></div> <div class="bar mature svelte-1rh9dw7" title="Mature"></div> <div class="bar rest svelte-1rh9dw7"></div></div> <div><span> </span> <span style="opacity: 0.5;"> </span></div></div> <div class="section-container svelte-1rh9dw7"><button class="section-title-button svelte-1rh9dw7"><div class="section-title svelte-1rh9dw7">Quick Adjust</div> <div><i></i></div></button> <!></div> <div class="section-container svelte-1rh9dw7"><button class="section-title-button svelte-1rh9dw7"><div class="section-title svelte-1rh9dw7">Extra Study</div> <div><i></i></div></button> <!></div>',1),Ve=A('<!> <div class="container svelte-1rh9dw7"><!></div> <div class="bottom-bar svelte-1rh9dw7"><a><!></a></div>',1);function ha(x,c){Ae(c,!1);const i=o(),k=o(),_=o(),yt=o(),xt=o(),Y=o(),R=o();let Q=Re(c,"data",8),s=o(new Ge),kt=o(!1),st=o(!1),St=o(!1);De(async()=>{await t(s).init(),Ct();const v=await t(s).initProfile();d(St,!0),v&&Ct()});function Ct(){var v,p;d(s,t(s)),d(D,((p=(v=t(s).deckData[Q().deckId??""])==null?void 0:v.groups[0])==null?void 0:p.label)??""),d(kt,!0),d(st,t(s).getNextCard(Q().deckId??"")===void 0)}let U=o(!1),W=o(20),S=o(B.StudiedCards),D=o("");function re(){const v=t(s).extraStudyHandler.getCardIds(t(i).id,t(Y));t(s).extraStudyHandler.startExtraStudy(t(i).id,v)}let X=o(!1),F=o(0),J=o(0),K=o(0);async function se(){t(s).adjustCardLimit(t(i).id,t(F),t(J),t(K)),d(F,0),d(J,0),d(K,0),await t(s).save(),d(s,t(s))}I(()=>(t(s),mt(Q())),()=>{d(i,t(s).getDeckInfo(Q().deckId??""))}),I(()=>(t(s),t(i)),()=>{d(k,t(s).getDeckProgress(t(i).id))}),I(()=>(t(s),t(i)),()=>{d(_,t(s).getDeckProgressNormalized(t(i).id))}),I(()=>t(k),()=>{d(yt,t(k).youngCount+t(k).matureCount)}),I(()=>t(k),()=>{d(xt,t(k).totalCount-t(k).ignoredCount)}),I(()=>(t(S),t(W),t(D)),()=>{d(Y,{type:t(S),count:t(W),group:t(D)})}),I(()=>(t(s),t(i),t(Y)),()=>{d(R,t(s).extraStudyHandler.getDescription(t(i).id,t(Y)))}),Te(),Ne();var Pt=Ve(),jt=et(Pt);Ee(jt,{title:"Overview"});var it=r(jt,2),ie=a(it);{var de=v=>{var p=Ke(),dt=et(p),vt=a(dt),ne=a(vt,!0);e(vt);var ot=r(vt,2),ce=a(ot,!0);e(ot);var At=r(ot,2),ue=a(At);{var _e=n=>{ze(n)};N(ue,n=>{t(St)||n(_e)})}e(At),e(dt);var lt=r(dt,2),Dt=a(lt),Tt=a(Dt),nt=a(Tt),qt=r(a(nt)),pe=a(qt,!0);e(qt),e(nt);var ct=r(nt),Et=r(a(ct)),we=a(Et,!0);e(Et),e(ct);var ut=r(ct),Ot=r(a(ut)),he=a(Ot,!0);e(Ot),e(ut);var Nt=r(ut),Rt=r(a(Nt)),fe=a(Rt,!0);e(Rt),e(Nt),e(Tt),e(Dt),e(lt);var _t=r(lt,2),pt=r(a(_t),2),$t=a(pt),Gt=r($t,2),zt=r(Gt,2),Ht=r(zt,2),be=r(Ht,2);e(pt);var Mt=r(pt,2),wt=a(Mt),me=a(wt,!0);e(wt);var Bt=r(wt,2),ge=a(Bt);e(Bt),e(Mt),e(_t);var ht=r(_t,2),Z=a(ht);Z.__click=[Me,X];var Yt=r(a(Z),2),ye=a(Yt);let Qt;e(Yt),e(Z);var xe=r(Z,2);{var ke=n=>{var C=Ye(),w=r(et(C),2),P=r(a(w),2),b=a(P);at(b),e(P),e(w);var m=r(w,2),T=r(a(m),2),$=a(T);at($),e(T),e(m);var G=r(m,2),q=r(a(G),2),E=a(q);at(E),e(q),e(G);var ft=r(G,2);ft.__click=[Be,se],rt(b,()=>t(F),g=>d(F,g)),rt($,()=>t(J),g=>d(J,g)),rt(E,()=>t(K),g=>d(K,g)),f(n,C)};N(xe,n=>{t(X)&&n(ke)})}e(ht);var Ut=r(ht,2),tt=a(Ut);tt.__click=[Qe,U];var Wt=r(a(tt),2),Se=a(Wt);let Xt;e(Wt),e(tt);var Ce=r(tt,2);{var Pe=n=>{var C=Je(),w=r(et(C),2),P=r(a(w),2);at(P),e(w);var b=r(w,2),m=r(a(b),2),T=a(m);L(()=>{t(S),Vt(()=>{})}),Zt(T,5,()=>(mt(B),l(()=>Object.values(B))),te,(h,j)=>{var y=Ue(),z=a(y,!0);e(y);var O={};L(()=>{u(z,t(j)),O!==(O=t(j))&&(y.value=(y.__value=t(j))??"")}),f(h,y)}),e(T),e(m),e(b);var $=r(b,2);{var G=h=>{var j=Xe(),y=r(a(j),2),z=a(y);L(()=>{t(D),Vt(()=>{t(s),t(i)})}),Zt(z,5,()=>(t(s),t(i),l(()=>t(s).getGroupLabels(t(i).id))),te,(O,bt)=>{var H=We(),Le=a(H,!0);e(H);var Ft={};L(()=>{u(Le,t(bt)),Ft!==(Ft=t(bt))&&(H.value=(H.__value=t(bt))??"")}),f(O,H)}),e(z),e(y),e(j),ee(z,()=>t(D),O=>d(D,O)),f(h,j)};N($,h=>{t(S),mt(B),l(()=>t(S)===B.Group)&&h(G)})}var q=r($,2),E=a(q),ft=a(E,!0);e(E);var g=r(E,2),je=a(g,!0);e(g),e(q);var Ie=r(q,2);Ie.__click=[Fe,re],L(()=>{u(ft,(t(R),l(()=>t(R).desc))),u(je,(t(R),l(()=>t(R).subdesc)))}),rt(P,()=>t(W),h=>d(W,h)),ee(T,()=>t(S),h=>d(S,h)),f(n,C)};N(Ce,n=>{t(U)&&n(Pe)})}e(Ut),L((n,C,w,P,b,m)=>{u(ne,(t(i),l(()=>t(i).title))),u(ce,(t(i),l(()=>t(i).subtitle))),u(pe,n),u(we,C),u(he,w),u(fe,P),M($t,`width: ${t(_),l(()=>t(_).ignored)??""}%`),M(Gt,`width: ${t(_),l(()=>t(_).previouslyStudied)??""}%`),M(zt,`width: ${t(_),l(()=>t(_).young)??""}%`),M(Ht,`width: ${t(_),l(()=>t(_).mature)??""}%`),M(be,`width: ${t(_),l(()=>t(_).rest)??""}%`),u(me,t(yt)),u(ge,`/ ${t(xt)??""}`),Qt=gt(ye,1,"fa-solid",null,Qt,b),Xt=gt(Se,1,"fa-solid",null,Xt,m)},[()=>(t(s),t(i),l(()=>t(s).getScheduledNewOrWarmUpCardsCount(t(i).id))),()=>(t(s),t(i),l(()=>t(s).getLearningRelearningCardsCount(t(i).id))),()=>(t(s),t(i),l(()=>t(s).getScheduledPreviouslyStudiedCardsCount(t(i).id))),()=>(t(s),t(i),l(()=>t(s).getScheduledReviewCardsCount(t(i).id))),()=>({"fa-chevron-down":t(X),"fa-chevron-right":!t(X)}),()=>({"fa-chevron-down":t(U),"fa-chevron-right":!t(U)})],Jt),f(v,p)};N(ie,v=>{t(kt)&&v(de)})}e(it);var It=r(it,2),V=a(It);let Lt;var ve=a(V);{var oe=v=>{var p=Kt("You're done for today");f(v,p)},le=v=>{var p=Kt("Study");f(v,p)};N(ve,v=>{t(st)?v(oe):v(le,!1)})}e(V),e(It),L(v=>{Lt=gt(V,1,"button svelte-1rh9dw7",null,Lt,v),Oe(V,"href",`${$e??""}/review?id=${t(i),l(()=>t(i).id)??""}`)},[()=>({disabled:t(st)})],Jt),f(x,Pt),qe()}ae(["click"]);export{ha as component,wa as universal};
