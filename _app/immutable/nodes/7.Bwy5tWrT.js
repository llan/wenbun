import"../chunks/CWj6FrbW.js";import"../chunks/CHpnjp_b.js";import{d as Ht,o as ne,s as u}from"../chunks/3DT1RaQV.js";import{p as le,_ as l,$ as m,a0 as ce,f as D,a as Ot,t as w,b,c as ue,s as r,a2 as Lt,h as t,H as v,d as a,i as n,J as tt,r as e,a3 as Nt,a4 as Rt}from"../chunks/CvbXAzr3.js";import{i as R}from"../chunks/C7DlhgQh.js";import{e as Gt,i as jt}from"../chunks/CeWMhBIq.js";import{T as ye,s as _e,r as pe}from"../chunks/DT6wTx3i.js";import{s as fe}from"../chunks/DP3PND5f.js";import{s as I}from"../chunks/8xkcVM4Q.js";import{b as ge}from"../chunks/BZblKS0U.js";import{b as zt}from"../chunks/IfUQBNlN.js";import{i as he}from"../chunks/7MZX7QCZ.js";import{p as me}from"../chunks/CWd2qMjO.js";import{b as et,g as be}from"../chunks/Cq2_jRpj.js";import{A as xe,E as P}from"../chunks/GI3Q6ud1.js";import{D as Se}from"../chunks/3UKrroMZ.js";import{L as we}from"../chunks/hgxyD7_U.js";const Ce=({url:$})=>({deckId:$.searchParams.get("id")||""}),Fe=Object.freeze(Object.defineProperty({__proto__:null,load:Ce},Symbol.toStringTag,{value:"Module"}));Ht(["click"]);var ke=D("<option> </option>"),Ie=D("<option> </option>"),Pe=D('<div class="extra-study-row svelte-1hna4yy"><div>Group :</div> <div><select></select></div></div>'),De=($,T)=>T(),$e=D('<div class="deck-info svelte-1hna4yy"><span class="deck-card-title"> </span> <span class="deck-card-subtitle svelte-1hna4yy"> </span> <div class="loading svelte-1hna4yy"><!></div></div> <div class="table-container"><table class="count-table svelte-1hna4yy"><tbody><tr class="row-count-new svelte-1hna4yy"><td>New</td><td class="count svelte-1hna4yy"> </td></tr><tr class="row-count-learn-relearn svelte-1hna4yy"><td>Learning</td><td class="count svelte-1hna4yy"> </td></tr><tr class="row-count-previously-studied svelte-1hna4yy"><td>Previously Studied</td><td class="count svelte-1hna4yy"> </td></tr><tr class="row-count-review svelte-1hna4yy"><td>Review</td><td class="count svelte-1hna4yy"> </td></tr></tbody></table></div> <div class="progress-container svelte-1hna4yy"><div class="section-title svelte-1hna4yy">Progress</div> <div class="progress-bar-container svelte-1hna4yy"><div class="bar ignored svelte-1hna4yy" title="Ignored"></div> <div class="bar previously-studied svelte-1hna4yy" title="Previously Studied"></div> <div class="bar young svelte-1hna4yy" title="Young"></div> <div class="bar mature svelte-1hna4yy" title="Mature"></div> <div class="bar rest svelte-1hna4yy"></div></div> <div><span> </span> <span style="opacity: 0.5;"> </span></div></div> <div class="extra-study-container svelte-1hna4yy"><div class="section-title svelte-1hna4yy">Extra Study</div> <div class="extra-study-help svelte-1hna4yy">Study more without affecting the SRS schedule</div> <div class="extra-study-row svelte-1hna4yy"><div>Count :</div> <div><input type="number"/></div></div> <div class="extra-study-row svelte-1hna4yy"><div>Type :</div> <div><select></select></div></div> <!> <div class="extra-study-description svelte-1hna4yy"><span class="desc"> </span> <span class="subdesc svelte-1hna4yy"> </span></div> <button class="button svelte-1hna4yy">Extra Study</button></div>',1),Te=D('<!> <div class="container svelte-1hna4yy"><!></div> <div class="bottom-bar svelte-1hna4yy"><a><!></a></div>',1);function Ke($,T){le(T,!1);const s=l(),f=l(),y=l(),at=l(),rt=l(),E=l(),C=l();let O=me(T,"data",8),i=l(new xe),st=l(!1),G=l(!1),it=l(!1);ne(async()=>{await t(i).init(),dt();const d=await t(i).initProfile();n(it,!0),d&&dt()});function dt(){var d,c;n(i,t(i)),n(x,((c=(d=t(i).deckData[O().deckId??""])==null?void 0:d.groups[0])==null?void 0:c.label)??""),n(st,!0),n(G,t(i).getNextCard(O().deckId??"")===void 0)}function Mt(d){return Se.find(c=>c.id===d)??{id:d,title:d,subtitle:""}}let L=l(20),g=l(P.StudiedCards),x=l("");function Ut(){const d=t(i).extraStudyHandler.getCardIds(t(s).id,t(E)),c=encodeURIComponent(JSON.stringify(d));be(`${et}/review?id=${t(s).id}&isExtraStudy=true&cardIds=${c}`)}m(()=>tt(O()),()=>{n(s,Mt(O().deckId??""))}),m(()=>(t(i),t(s)),()=>{n(f,t(i).getDeckProgress(t(s).id))}),m(()=>(t(i),t(s)),()=>{n(y,t(i).getDeckProgressNormalized(t(s).id))}),m(()=>t(f),()=>{n(at,t(f).youngCount+t(f).matureCount)}),m(()=>t(f),()=>{n(rt,t(f).totalCount-t(f).ignoredCount)}),m(()=>(t(g),t(L),t(x)),()=>{n(E,{type:t(g),count:t(L),group:t(x)})}),m(()=>(t(i),t(s),t(E)),()=>{n(C,t(i).extraStudyHandler.getDescription(t(s).id,t(E)))}),ce(),he();var vt=Te(),ot=Ot(vt);ye(ot,{title:"Overview",get backUrl(){return`${et??""}/`}});var j=r(ot,2),At=a(j);{var Bt=d=>{var c=$e(),z=Ot(c),H=a(z),Wt=a(H,!0);e(H);var M=r(H,2),Ft=a(M,!0);e(M);var ct=r(M,2),Kt=a(ct);{var Qt=o=>{we(o)};R(Kt,o=>{t(it)||o(Qt)})}e(ct),e(z);var U=r(z,2),ut=a(U),yt=a(ut),A=a(yt),_t=r(a(A)),Vt=a(_t,!0);e(_t),e(A);var B=r(A),pt=r(a(B)),Xt=a(pt,!0);e(pt),e(B);var J=r(B),ft=r(a(J)),Zt=a(ft,!0);e(ft),e(J);var gt=r(J),ht=r(a(gt)),te=a(ht,!0);e(ht),e(gt),e(yt),e(ut),e(U);var Y=r(U,2),q=r(a(Y),2),mt=a(q),bt=r(mt,2),xt=r(bt,2),St=r(xt,2),ee=r(St,2);e(q);var wt=r(q,2),W=a(wt),ae=a(W,!0);e(W);var Ct=r(W,2),re=a(Ct);e(Ct),e(wt),e(Y);var kt=r(Y,2),F=r(a(kt),4),It=r(a(F),2),Pt=a(It);pe(Pt),e(It),e(F);var K=r(F,2),Dt=r(a(K),2),Q=a(Dt);w(()=>{t(g),Nt(()=>{})}),Gt(Q,5,()=>(tt(P),v(()=>Object.values(P))),jt,(o,p)=>{var _=ke(),h=a(_,!0);e(_);var S={};w(()=>{u(h,t(p)),S!==(S=t(p))&&(_.value=(_.__value=t(p))??"")}),b(o,_)}),e(Q),e(Dt),e(K);var $t=r(K,2);{var se=o=>{var p=Pe(),_=r(a(p),2),h=a(_);w(()=>{t(x),Nt(()=>{t(i),t(s)})}),Gt(h,5,()=>(t(i),t(s),v(()=>t(i).getGroupLabels(t(s).id))),jt,(S,Z)=>{var k=Ie(),oe=a(k,!0);e(k);var Et={};w(()=>{u(oe,t(Z)),Et!==(Et=t(Z))&&(k.value=(k.__value=t(Z))??"")}),b(S,k)}),e(h),e(_),e(p),zt(h,()=>t(x),S=>n(x,S)),b(o,p)};R($t,o=>{t(g),tt(P),v(()=>t(g)===P.Group)&&o(se)})}var V=r($t,2),X=a(V),ie=a(X,!0);e(X);var Tt=r(X,2),de=a(Tt,!0);e(Tt),e(V);var ve=r(V,2);ve.__click=[De,Ut],e(kt),w((o,p,_,h)=>{u(Wt,(t(s),v(()=>t(s).title))),u(Ft,(t(s),v(()=>t(s).subtitle))),u(Vt,o),u(Xt,p),u(Zt,_),u(te,h),I(mt,`width: ${t(y),v(()=>t(y).ignored)??""}%`),I(bt,`width: ${t(y),v(()=>t(y).previouslyStudied)??""}%`),I(xt,`width: ${t(y),v(()=>t(y).young)??""}%`),I(St,`width: ${t(y),v(()=>t(y).mature)??""}%`),I(ee,`width: ${t(y),v(()=>t(y).rest)??""}%`),u(ae,t(at)),u(re,`/ ${t(rt)??""}`),u(ie,(t(C),v(()=>t(C).desc))),u(de,(t(C),v(()=>t(C).subdesc)))},[()=>(t(i),t(s),v(()=>t(i).getScheduledNewOrWarmUpCardsCount(t(s).id))),()=>(t(i),t(s),v(()=>t(i).getLearningRelearningCardsCount(t(s).id))),()=>(t(i),t(s),v(()=>t(i).getPreviouslyStudiedCardCount(t(s).id))),()=>(t(i),t(s),v(()=>t(i).getScheduledReviewCardsCount(t(s).id)))],Lt),ge(Pt,()=>t(L),o=>n(L,o)),zt(Q,()=>t(g),o=>n(g,o)),b(d,c)};R(At,d=>{t(st)&&d(Bt)})}e(j);var nt=r(j,2),N=a(nt);let lt;var Jt=a(N);{var Yt=d=>{var c=Rt("You're done for today");b(d,c)},qt=d=>{var c=Rt("Study");b(d,c)};R(Jt,d=>{t(G)?d(Yt):d(qt,!1)})}e(N),e(nt),w(d=>{lt=fe(N,1,"button svelte-1hna4yy",null,lt,d),_e(N,"href",`${et??""}/review?id=${t(s),v(()=>t(s).id)??""}`)},[()=>({disabled:t(G)})],Lt),b($,vt),ue()}Ht(["click"]);export{Ke as component,Fe as universal};
