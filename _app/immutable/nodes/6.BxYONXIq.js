import"../chunks/CWj6FrbW.js";import"../chunks/D12B_2YD.js";import{d as Gt,o as ae,s as c}from"../chunks/DHzHPe8k.js";import{p as de,P as n,ag as y,ah as ie,f as D,a as Pt,t as w,b,c as oe,s,A as $t,h as t,a3 as o,d as r,i as v,a5 as X,r as e,ak as Tt,aW as Et}from"../chunks/DkA9jLS_.js";import{i as Z}from"../chunks/0GsRM2Fi.js";import{e as Ot,i as Nt}from"../chunks/Bw1cR02L.js";import{T as ve,s as le,r as ne}from"../chunks/xv7TxEBj.js";import{s as ce}from"../chunks/QHNB9Zof.js";import{s as C}from"../chunks/DeZMyIbe.js";import{b as ue}from"../chunks/-e3D26bC.js";import{b as Rt}from"../chunks/s7BrcMeH.js";import{i as _e}from"../chunks/EGtqtshi.js";import{p as pe}from"../chunks/DB5RGsVz.js";import{b as tt,g as me}from"../chunks/niaL4lB3.js";import{A as xe,E as I,D as fe}from"../chunks/rXo6bqsW.js";const ge=({url:P})=>({deckId:P.searchParams.get("id")||""}),Le=Object.freeze(Object.defineProperty({__proto__:null,load:ge},Symbol.toStringTag,{value:"Module"}));Gt(["click"]);var ye=D("<option> </option>"),be=D("<option> </option>"),qe=D('<div class="extra-study-row svelte-mrxsqo"><div>Group :</div> <div><select></select></div></div>'),Se=(P,$)=>$(),we=D('<div class="deck-info svelte-mrxsqo"><span class="deck-card-title"> </span> <span class="deck-card-subtitle svelte-mrxsqo"> </span></div> <div class="table-container"><table class="count-table svelte-mrxsqo"><tbody><tr class="row-count-new svelte-mrxsqo"><td>New</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-learn-relearn svelte-mrxsqo"><td>Learning</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-previously-studied svelte-mrxsqo"><td>Previously Studied</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-review svelte-mrxsqo"><td>Review</td><td class="count svelte-mrxsqo"> </td></tr></tbody></table></div> <div class="progress-container svelte-mrxsqo"><div class="section-title svelte-mrxsqo">Progress</div> <div class="progress-bar-container svelte-mrxsqo"><div class="bar ignored svelte-mrxsqo" title="Ignored"></div> <div class="bar previously-studied svelte-mrxsqo" title="Previously Studied"></div> <div class="bar young svelte-mrxsqo" title="Young"></div> <div class="bar mature svelte-mrxsqo" title="Mature"></div> <div class="bar rest svelte-mrxsqo"></div></div> <div><span> </span> <span style="opacity: 0.5;"> </span></div></div> <div class="extra-study-container svelte-mrxsqo"><div class="section-title svelte-mrxsqo">Extra Study</div> <div class="extra-study-help svelte-mrxsqo">Study more without affecting the SRS schedule</div> <div class="extra-study-row svelte-mrxsqo"><div>Count :</div> <div><input type="number"/></div></div> <div class="extra-study-row svelte-mrxsqo"><div>Type :</div> <div><select></select></div></div> <!> <div class="extra-study-description svelte-mrxsqo"><span class="desc"> </span> <span class="subdesc svelte-mrxsqo"> </span></div> <button class="button svelte-mrxsqo">Extra Study</button></div>',1),he=D('<!> <div class="container svelte-mrxsqo"><!></div> <div class="bottom-bar svelte-mrxsqo"><a><!></a></div>',1);function Me(P,$){de($,!1);const a=n(),x=n(),u=n(),et=n(),rt=n(),T=n(),h=n();let E=pe($,"data",8),d=n(new xe),st=n(!1),R=n(!1);ae(async()=>{var i,l;await t(d).init(),v(d,t(d)),v(q,((l=(i=t(d).deckData[E().deckId??""])==null?void 0:i.groups[0])==null?void 0:l.label)??""),v(st,!0),v(R,t(d).getNextCard(E().deckId??"")===void 0)});function jt(i){return fe.find(l=>l.id===i)??{id:i,title:i,subtitle:""}}let O=n(20),f=n(I.StudiedCards),q=n("");function zt(){const i=t(d).extraStudyHandler.getCardIds(t(a).id,t(T)),l=encodeURIComponent(JSON.stringify(i));me(`${tt}/review?id=${t(a).id}&isExtraStudy=true&cardIds=${l}`)}y(()=>X(E()),()=>{v(a,jt(E().deckId??""))}),y(()=>(t(d),t(a)),()=>{v(x,t(d).getDeckProgress(t(a).id))}),y(()=>(t(d),t(a)),()=>{v(u,t(d).getDeckProgressNormalized(t(a).id))}),y(()=>t(x),()=>{v(et,t(x).youngCount+t(x).matureCount)}),y(()=>t(x),()=>{v(rt,t(x).totalCount-t(x).ignoredCount)}),y(()=>(t(f),t(O),t(q)),()=>{v(T,{type:t(f),count:t(O),group:t(q)})}),y(()=>(t(d),t(a),t(T)),()=>{v(h,t(d).extraStudyHandler.getDescription(t(a).id,t(T)))}),ie(),_e();var at=he(),dt=Pt(at);ve(dt,{title:"Overview",get backUrl(){return`${tt??""}/`}});var G=s(dt,2),At=r(G);{var Lt=i=>{var l=we(),j=Pt(l),z=r(j),Ht=r(z,!0);e(z);var vt=s(z,2),Wt=r(vt,!0);e(vt),e(j);var A=s(j,2),lt=r(A),nt=r(lt),L=r(nt),ct=s(r(L)),Yt=r(ct,!0);e(ct),e(L);var M=s(L),ut=s(r(M)),Jt=r(ut,!0);e(ut),e(M);var U=s(M),_t=s(r(U)),Ft=r(_t,!0);e(_t),e(U);var pt=s(U),mt=s(r(pt)),Kt=r(mt,!0);e(mt),e(pt),e(nt),e(lt),e(A);var B=s(A,2),H=s(r(B),2),xt=r(H),ft=s(xt,2),gt=s(ft,2),yt=s(gt,2),Qt=s(yt,2);e(H);var bt=s(H,2),W=r(bt),Vt=r(W,!0);e(W);var qt=s(W,2),Xt=r(qt);e(qt),e(bt),e(B);var St=s(B,2),Y=s(r(St),4),wt=s(r(Y),2),ht=r(wt);ne(ht),e(wt),e(Y);var J=s(Y,2),kt=s(r(J),2),F=r(kt);w(()=>{t(f),Tt(()=>{})}),Ot(F,5,()=>(X(I),o(()=>Object.values(I))),Nt,(_,m)=>{var p=ye(),g=r(p,!0);e(p);var S={};w(()=>{c(g,t(m)),S!==(S=t(m))&&(p.value=(p.__value=t(m))??"")}),b(_,p)}),e(F),e(kt),e(J);var Ct=s(J,2);{var Zt=_=>{var m=qe(),p=s(r(m),2),g=r(p);w(()=>{t(q),Tt(()=>{t(d),t(a)})}),Ot(g,5,()=>(t(d),t(a),o(()=>t(d).getGroupLabels(t(a).id))),Nt,(S,V)=>{var k=be(),se=r(k,!0);e(k);var Dt={};w(()=>{c(se,t(V)),Dt!==(Dt=t(V))&&(k.value=(k.__value=t(V))??"")}),b(S,k)}),e(g),e(p),e(m),Rt(g,()=>t(q),S=>v(q,S)),b(_,m)};Z(Ct,_=>{t(f),X(I),o(()=>t(f)===I.Group)&&_(Zt)})}var K=s(Ct,2),Q=r(K),te=r(Q,!0);e(Q);var It=s(Q,2),ee=r(It,!0);e(It),e(K);var re=s(K,2);re.__click=[Se,zt],e(St),w((_,m,p,g)=>{c(Ht,(t(a),o(()=>t(a).title))),c(Wt,(t(a),o(()=>t(a).subtitle))),c(Yt,_),c(Jt,m),c(Ft,p),c(Kt,g),C(xt,`width: ${t(u),o(()=>t(u).ignored)??""}%`),C(ft,`width: ${t(u),o(()=>t(u).previouslyStudied)??""}%`),C(gt,`width: ${t(u),o(()=>t(u).young)??""}%`),C(yt,`width: ${t(u),o(()=>t(u).mature)??""}%`),C(Qt,`width: ${t(u),o(()=>t(u).rest)??""}%`),c(Vt,t(et)),c(Xt,`/ ${t(rt)??""}`),c(te,(t(h),o(()=>t(h).desc))),c(ee,(t(h),o(()=>t(h).subdesc)))},[()=>(t(d),t(a),o(()=>t(d).getScheduledNewOrWarmUpCardsCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getLearningRelearningCardsCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getPreviouslyStudiedCardCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getScheduledReviewCardsCount(t(a).id)))],$t),ue(ht,()=>t(O),_=>v(O,_)),Rt(F,()=>t(f),_=>v(f,_)),b(i,l)};Z(At,i=>{t(st)&&i(Lt)})}e(G);var it=s(G,2),N=r(it);let ot;var Mt=r(N);{var Ut=i=>{var l=Et("You're done for today");b(i,l)},Bt=i=>{var l=Et("Study");b(i,l)};Z(Mt,i=>{t(R)?i(Ut):i(Bt,!1)})}e(N),e(it),w(i=>{ot=ce(N,1,"button svelte-mrxsqo",null,ot,i),le(N,"href",`${tt??""}/review?id=${t(a),o(()=>t(a).id)??""}`)},[()=>({disabled:t(R)})],$t),b(P,at),oe()}Gt(["click"]);export{Me as component,Le as universal};
