import"../chunks/CWj6FrbW.js";import"../chunks/DUOQ2h4l.js";import{p as P,al as T,f as w,a as F,b as c,c as I,s as p,d as W,i as o,a9 as R,j as X,r as v,t as f,X as u,e as _,aq as A}from"../chunks/C5etlkrB.js";import{i as E}from"../chunks/Cc2rhPc8.js";import{e as x,i as z}from"../chunks/Dnr6C7Qa.js";import{s as H}from"../chunks/DzZJzTEu.js";import{i as G}from"../chunks/BkP1o4TQ.js";import"../chunks/_1toS6uJ.js";import{C as J,M as K,l as L}from"../chunks/Cy3mxnRm.js";import{T as N}from"../chunks/BvNWHEz1.js";var O=w("<div> <!></div>"),Q=w("<div> </div>"),U=w('<!> <div class="container svelte-1ncw3nw">Word existence in the dictionary check <!> <br/><br/> Word support by HanziWriter check <!></div>',1);function nt($,b){P(b,!1);let d=[],m=new J,e=R([]);T(async()=>{await m.init("zh"),await Promise.all(K.map(async r=>{const t=await L(r.src);t&&d.push({id:r.id,words:t})})),d=d.sort((r,t)=>r.id.localeCompare(t.id)),B(d)});function B(r){for(const t of r){const a=M(t.words),i=t.words.length,s=i-a.length,n=t.words.filter(h=>m.isWordSupportedByHanziWriter(h)).length;o(e).push({id:t.id,totalWordCount:i,totalWordsWithDictData:s,totalWordsSupportedByHanziWriter:n,missingWords:a}),X(e,o(e))}}function S(r,t){return r.slice(0,t)}function M(r){return r.filter(t=>!m.dict[t])}G();var g=U(),y=F(g);N(y,{title:"Health Check"});var C=p(y,2),k=p(W(C));x(k,1,()=>o(e),z,(r,t)=>{var a=O();let i;var s=W(a),n=p(s);{var h=l=>{var D=A();f(q=>_(D,`[missing words: ${q??""}, ...]`),[()=>S(o(t).missingWords,5).join(", ")],u),c(l,D)};E(n,l=>{o(t).missingWords.length>0&&l(h)})}v(a),f(l=>{i=H(a,1,"svelte-1ncw3nw",null,i,l),_(s,`${o(t).id??""}: ${o(t).totalWordsWithDictData??""}/${o(t).totalWordCount??""} `)},[()=>({"is-healthy":o(t).totalWordsWithDictData===o(t).totalWordCount})],u),c(r,a)});var j=p(k,5);x(j,1,()=>o(e),z,(r,t)=>{var a=Q();let i;var s=W(a);v(a),f(n=>{i=H(a,1,"svelte-1ncw3nw",null,i,n),_(s,`${o(t).id??""}: ${o(t).totalWordsSupportedByHanziWriter??""}/${o(t).totalWordCount??""}`)},[()=>({"is-healthy":o(t).totalWordsSupportedByHanziWriter===o(t).totalWordCount})],u),c(r,a)}),v(C),c($,g),I()}export{nt as component};
