import"../chunks/CWj6FrbW.js";import"../chunks/Bwjk16kZ.js";import{d as Gt,o as se,s as c}from"../chunks/Bm5w9rKm.js";import{a7 as de,E as n,a8 as y,a9 as ie,aa as D,ab as Pt,ac as w,ad as b,ae as oe,af as r,o as $t,g as t,W as o,ag as a,b as v,Y as V,ah as e,ak as Et,aX as Tt}from"../chunks/CppPYvqM.js";import{i as Z}from"../chunks/BmZSK_NP.js";import{e as Ot,i as Nt}from"../chunks/CboPmxil.js";import{T as ve,s as le,r as ne}from"../chunks/BgD2c6e2.js";import{s as ce}from"../chunks/WtSHSpat.js";import{s as C}from"../chunks/pvgapcXO.js";import{b as ue}from"../chunks/CNs2C0tZ.js";import{b as Rt}from"../chunks/D1aqb1vV.js";import{i as _e}from"../chunks/DR_ajWpe.js";import{p as pe}from"../chunks/B8WkJiGh.js";import{b as tt,g as me}from"../chunks/BSi2MV8y.js";import{A as xe,E as I,D as ge}from"../chunks/BwqE_mTR.js";const fe=({url:P})=>({deckId:P.searchParams.get("id")||""}),Me=Object.freeze(Object.defineProperty({__proto__:null,load:fe},Symbol.toStringTag,{value:"Module"}));Gt(["click"]);var ye=D("<option> </option>"),be=D("<option> </option>"),qe=D('<div class="extra-study-row svelte-mrxsqo"><div>Group :</div> <div><select></select></div></div>'),Se=(P,$)=>$(),we=D('<div class="deck-info svelte-mrxsqo"><span class="deck-card-title"> </span> <span class="deck-card-subtitle svelte-mrxsqo"> </span></div> <div class="table-container"><table class="count-table svelte-mrxsqo"><tbody><tr class="row-count-new svelte-mrxsqo"><td>New</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-learn-relearn svelte-mrxsqo"><td>Learning</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-previously-studied svelte-mrxsqo"><td>Previously Studied</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-review svelte-mrxsqo"><td>Review</td><td class="count svelte-mrxsqo"> </td></tr></tbody></table></div> <div class="progress-container svelte-mrxsqo"><div class="section-title svelte-mrxsqo">Progress</div> <div class="progress-bar-container svelte-mrxsqo"><div class="bar ignored svelte-mrxsqo" title="Ignored"></div> <div class="bar previously-studied svelte-mrxsqo" title="Previously Studied"></div> <div class="bar young svelte-mrxsqo" title="Young"></div> <div class="bar mature svelte-mrxsqo" title="Mature"></div> <div class="bar rest svelte-mrxsqo"></div></div> <div><span> </span> <span style="opacity: 0.5;"> </span></div></div> <div class="extra-study-container svelte-mrxsqo"><div class="section-title svelte-mrxsqo">Extra Study</div> <div class="extra-study-help svelte-mrxsqo">Study more without affecting the SRS schedule</div> <div class="extra-study-row svelte-mrxsqo"><div>Count :</div> <div><input type="number"/></div></div> <div class="extra-study-row svelte-mrxsqo"><div>Type :</div> <div><select></select></div></div> <!> <div class="extra-study-description svelte-mrxsqo"><span class="desc"> </span> <span class="subdesc svelte-mrxsqo"> </span></div> <button class="button svelte-mrxsqo">Extra Study</button></div>',1),ke=D('<!> <div class="container svelte-mrxsqo"><!></div> <div class="bottom-bar svelte-mrxsqo"><a><!></a></div>',1);function Ue(P,$){de($,!1);const s=n(),x=n(),u=n(),et=n(),at=n(),E=n(),k=n();let T=pe($,"data",8),d=n(new xe),rt=n(!1),R=n(!1);se(async()=>{var i,l;await t(d).init(),v(d,t(d)),v(q,((l=(i=t(d).deckData[T().deckId??""])==null?void 0:i.groups[0])==null?void 0:l.label)??""),v(rt,!0),v(R,t(d).getNextCard(T().deckId??"")===void 0)});function jt(i){return ge.find(l=>l.id===i)??{id:i,title:i,subtitle:""}}let O=n(20),g=n(I.StudiedCards),q=n("");function zt(){const i=t(d).extraStudyHandler.getCardIds(t(s).id,t(E)),l=encodeURIComponent(JSON.stringify(i));me(`${tt}/review?id=${t(s).id}&isExtraStudy=true&cardIds=${l}`)}y(()=>V(T()),()=>{v(s,jt(T().deckId??""))}),y(()=>(t(d),t(s)),()=>{v(x,t(d).getDeckProgress(t(s).id))}),y(()=>(t(d),t(s)),()=>{v(u,t(d).getDeckProgressNormalized(t(s).id))}),y(()=>t(x),()=>{v(et,t(x).youngCount+t(x).matureCount)}),y(()=>t(x),()=>{v(at,t(x).totalCount-t(x).ignoredCount)}),y(()=>(t(g),t(O),t(q)),()=>{v(E,{type:t(g),count:t(O),group:t(q)})}),y(()=>(t(d),t(s),t(E)),()=>{v(k,t(d).extraStudyHandler.getDescription(t(s).id,t(E)))}),ie(),_e();var st=ke(),dt=Pt(st);ve(dt,{title:"Overview",get backUrl(){return`${tt??""}/`}});var G=r(dt,2),Lt=a(G);{var Mt=i=>{var l=we(),j=Pt(l),z=a(j),Bt=a(z,!0);e(z);var vt=r(z,2),Ht=a(vt,!0);e(vt),e(j);var L=r(j,2),lt=a(L),nt=a(lt),M=a(nt),ct=r(a(M)),Wt=a(ct,!0);e(ct),e(M);var U=r(M),ut=r(a(U)),Jt=a(ut,!0);e(ut),e(U);var Y=r(U),_t=r(a(Y)),Xt=a(_t,!0);e(_t),e(Y);var pt=r(Y),mt=r(a(pt)),Ft=a(mt,!0);e(mt),e(pt),e(nt),e(lt),e(L);var A=r(L,2),B=r(a(A),2),xt=a(B),gt=r(xt,2),ft=r(gt,2),yt=r(ft,2),Kt=r(yt,2);e(B);var bt=r(B,2),H=a(bt),Qt=a(H,!0);e(H);var qt=r(H,2),Vt=a(qt);e(qt),e(bt),e(A);var St=r(A,2),W=r(a(St),4),wt=r(a(W),2),kt=a(wt);ne(kt),e(wt),e(W);var J=r(W,2),ht=r(a(J),2),X=a(ht);w(()=>{t(g),Et(()=>{})}),Ot(X,5,()=>(V(I),o(()=>Object.values(I))),Nt,(_,m)=>{var p=ye(),f=a(p,!0);e(p);var S={};w(()=>{c(f,t(m)),S!==(S=t(m))&&(p.value=(p.__value=t(m))??"")}),b(_,p)}),e(X),e(ht),e(J);var Ct=r(J,2);{var Zt=_=>{var m=qe(),p=r(a(m),2),f=a(p);w(()=>{t(q),Et(()=>{t(d),t(s)})}),Ot(f,5,()=>(t(d),t(s),o(()=>t(d).getGroupLabels(t(s).id))),Nt,(S,Q)=>{var h=be(),re=a(h,!0);e(h);var Dt={};w(()=>{c(re,t(Q)),Dt!==(Dt=t(Q))&&(h.value=(h.__value=t(Q))??"")}),b(S,h)}),e(f),e(p),e(m),Rt(f,()=>t(q),S=>v(q,S)),b(_,m)};Z(Ct,_=>{t(g),V(I),o(()=>t(g)===I.Group)&&_(Zt)})}var F=r(Ct,2),K=a(F),te=a(K,!0);e(K);var It=r(K,2),ee=a(It,!0);e(It),e(F);var ae=r(F,2);ae.__click=[Se,zt],e(St),w((_,m,p,f)=>{c(Bt,(t(s),o(()=>t(s).title))),c(Ht,(t(s),o(()=>t(s).subtitle))),c(Wt,_),c(Jt,m),c(Xt,p),c(Ft,f),C(xt,`width: ${t(u),o(()=>t(u).ignored)??""}%`),C(gt,`width: ${t(u),o(()=>t(u).previouslyStudied)??""}%`),C(ft,`width: ${t(u),o(()=>t(u).young)??""}%`),C(yt,`width: ${t(u),o(()=>t(u).mature)??""}%`),C(Kt,`width: ${t(u),o(()=>t(u).rest)??""}%`),c(Qt,t(et)),c(Vt,`/ ${t(at)??""}`),c(te,(t(k),o(()=>t(k).desc))),c(ee,(t(k),o(()=>t(k).subdesc)))},[()=>(t(d),t(s),o(()=>t(d).getScheduledNewOrWarmUpCardsCount(t(s).id))),()=>(t(d),t(s),o(()=>t(d).getLearningRelearningCardsCount(t(s).id))),()=>(t(d),t(s),o(()=>t(d).getPreviouslyStudiedCardCount(t(s).id))),()=>(t(d),t(s),o(()=>t(d).getScheduledReviewCardsCount(t(s).id)))],$t),ue(kt,()=>t(O),_=>v(O,_)),Rt(X,()=>t(g),_=>v(g,_)),b(i,l)};Z(Lt,i=>{t(rt)&&i(Mt)})}e(G);var it=r(G,2),N=a(it);let ot;var Ut=a(N);{var Yt=i=>{var l=Tt("You're done for today");b(i,l)},At=i=>{var l=Tt("Study");b(i,l)};Z(Ut,i=>{t(R)?i(Yt):i(At,!1)})}e(N),e(it),w(i=>{ot=ce(N,1,"button svelte-mrxsqo",null,ot,i),le(N,"href",`${tt??""}/review?id=${t(s),o(()=>t(s).id)??""}`)},[()=>({disabled:t(R)})],$t),b(P,st),oe()}Gt(["click"]);export{Ue as component,Me as universal};
