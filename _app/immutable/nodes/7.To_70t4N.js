import"../chunks/CWj6FrbW.js";import"../chunks/e1-x02pv.js";import{a3 as ae,p as Ae,a4 as o,a5 as Ie,a6 as P,a7 as Te,f as L,a as et,t as D,b as g,c as Oe,s,a8 as Kt,i as t,n,d as a,j as v,O as ft,r as e,e as u,aa as Vt,a9 as Xt}from"../chunks/B3vXJgDE.js";import{i as q}from"../chunks/BMd2rG11.js";import{e as Zt,i as te}from"../chunks/Cf-085yO.js";import{T as Ee,s as qe,r as at}from"../chunks/-bR0FToJ.js";import{s as yt}from"../chunks/BgSIpHGp.js";import{s as M}from"../chunks/BW2CcSmq.js";import{b as st}from"../chunks/DFF9A_Ms.js";import{b as ee}from"../chunks/NgEXzAtY.js";import{i as Ne}from"../chunks/DRVz_ard.js";import{p as Re}from"../chunks/DfwZoAIM.js";import{b as $e}from"../chunks/D9EQzb-w.js";import{A as Ge,E as B}from"../chunks/DgyyUUPH.js";import{D as He}from"../chunks/NeAu8v0G.js";import{L as Me}from"../chunks/4AZeB4qs.js";const Be=({url:h})=>({deckId:h.searchParams.get("id")||""}),ga=Object.freeze(Object.defineProperty({__proto__:null,load:Be},Symbol.toStringTag,{value:"Module"}));ae(["click"]);var Ye=(h,c)=>v(c,!t(c)),Qe=(h,c)=>c(),Ue=L(`<div class="section-help svelte-bgmz4w">*Adjustment can be negative</div> <div class="section-row svelte-bgmz4w"><div>Change today's <b>new card</b> limit by</div> <div><input type="number" class="short-input svelte-bgmz4w"/></div></div> <div class="section-row svelte-bgmz4w"><div>Change today's <b>previously studied</b> card limit by</div> <div><input type="number" class="short-input svelte-bgmz4w"/></div></div> <div class="section-row svelte-bgmz4w"><div>Change today's <b>review</b> limit by</div> <div><input type="number" class="short-input svelte-bgmz4w"/></div></div> <button class="button">Adjust</button>`,1),We=(h,c)=>v(c,!t(c)),Fe=L("<option> </option>"),Je=L("<option> </option>"),Ke=L('<div class="section-row svelte-bgmz4w"><div>Group :</div> <div><select></select></div></div>'),Ve=(h,c)=>c(),Xe=L('<div class="section-help svelte-bgmz4w">Study more without affecting the SRS schedule</div> <div class="section-row svelte-bgmz4w"><div>Count :</div> <input type="number"/></div> <div class="section-row svelte-bgmz4w"><div>Type :</div> <div><select></select></div></div> <!> <div class="section-description svelte-bgmz4w"><span class="desc"> </span> <span class="subdesc svelte-bgmz4w"> </span></div> <button class="button">Extra Study</button>',1),Ze=L('<div class="deck-info svelte-bgmz4w"><span class="deck-card-title"> </span> <span class="deck-card-subtitle svelte-bgmz4w"> </span> <div class="loading svelte-bgmz4w"><!></div></div> <div class="table-container"><table class="count-table svelte-bgmz4w"><tbody><tr class="row-count-new svelte-bgmz4w"><td>New</td><td class="count svelte-bgmz4w"> </td></tr><tr class="row-count-learn-relearn svelte-bgmz4w"><td>Learning</td><td class="count svelte-bgmz4w"> </td></tr><tr class="row-count-previously-studied svelte-bgmz4w"><td>Previously Studied</td><td class="count svelte-bgmz4w"> </td></tr><tr class="row-count-review svelte-bgmz4w"><td>Review</td><td class="count svelte-bgmz4w"> </td></tr></tbody></table></div> <div class="progress-container svelte-bgmz4w"><div class="section-title svelte-bgmz4w">Progress</div> <div class="progress-bar-container svelte-bgmz4w"><div class="bar ignored svelte-bgmz4w" title="Ignored"></div> <div class="bar previously-studied svelte-bgmz4w" title="Previously Studied"></div> <div class="bar young svelte-bgmz4w" title="Young"></div> <div class="bar mature svelte-bgmz4w" title="Mature"></div> <div class="bar rest svelte-bgmz4w"></div></div> <div><span> </span> <span style="opacity: 0.5;"> </span></div></div> <div class="section-container svelte-bgmz4w"><button class="section-title-button svelte-bgmz4w"><div class="section-title svelte-bgmz4w">Quick Adjust</div> <div><i></i></div></button> <!></div> <div class="section-container svelte-bgmz4w"><button class="section-title-button svelte-bgmz4w"><div class="section-title svelte-bgmz4w">Extra Study</div> <div><i></i></div></button> <!></div>',1),ta=L('<!> <div class="container svelte-bgmz4w"><!></div> <div class="bottom-bar svelte-bgmz4w"><a><!></a></div>',1);function wa(h,c){Ae(c,!1);const r=o(),x=o(),_=o(),zt=o(),ht=o(),Y=o(),N=o();let Q=Re(c,"data",8),i=o(new Ge),xt=o(!1),it=o(!1),kt=o(!1);Ie(async()=>{await t(i).init(),St();const d=await t(i).initProfile();v(kt,!0),d&&St()});function St(){var d,b;v(i,t(i)),v(A,((b=(d=t(i).deckData[Q().deckId??""])==null?void 0:d.groups[0])==null?void 0:b.label)??""),v(xt,!0),v(it,t(i).getNextCard(Q().deckId??"")===void 0)}function se(d){return He.find(b=>b.id===d)??{id:d,title:d,subtitle:""}}let U=o(!1),W=o(20),k=o(B.StudiedCards),A=o("");function ie(){const d=t(i).extraStudyHandler.getCardIds(t(r).id,t(Y));t(i).extraStudyHandler.startExtraStudy(t(r).id,d)}let F=o(!1),J=o(0),K=o(0),V=o(0);async function re(){t(i).adjustCardLimit(t(r).id,t(J),t(K),t(V)),v(J,0),v(K,0),v(V,0),await t(i).save(),v(i,t(i))}P(()=>ft(Q()),()=>{v(r,se(Q().deckId??""))}),P(()=>(t(i),t(r)),()=>{v(x,t(i).getDeckProgress(t(r).id))}),P(()=>(t(i),t(r)),()=>{v(_,t(i).getDeckProgressNormalized(t(r).id))}),P(()=>t(x),()=>{v(zt,t(x).youngCount+t(x).matureCount)}),P(()=>t(x),()=>{v(ht,t(x).totalCount-t(x).ignoredCount)}),P(()=>(t(k),t(W),t(A)),()=>{v(Y,{type:t(k),count:t(W),group:t(A)})}),P(()=>(t(i),t(r),t(Y)),()=>{v(N,t(i).extraStudyHandler.getDescription(t(r).id,t(Y)))}),Te(),Ne();var Ct=ta(),jt=et(Ct);Ee(jt,{title:"Overview"});var rt=s(jt,2),ve=a(rt);{var de=d=>{var b=Ze(),vt=et(b),dt=a(vt),ce=a(dt,!0);e(dt);var ot=s(dt,2),ue=a(ot,!0);e(ot);var Lt=s(ot,2),_e=a(Lt);{var be=l=>{Me(l)};q(_e,l=>{t(kt)||l(be)})}e(Lt),e(vt);var nt=s(vt,2),At=a(nt),It=a(At),lt=a(It),Tt=s(a(lt)),me=a(Tt,!0);e(Tt),e(lt);var ct=s(lt),Ot=s(a(ct)),pe=a(Ot,!0);e(Ot),e(ct);var ut=s(ct),Et=s(a(ut)),ge=a(Et,!0);e(Et),e(ut);var qt=s(ut),Nt=s(a(qt)),we=a(Nt,!0);e(Nt),e(qt),e(It),e(At),e(nt);var _t=s(nt,2),bt=s(a(_t),2),Rt=a(bt),$t=s(Rt,2),Gt=s($t,2),Ht=s(Gt,2),fe=s(Ht,2);e(bt);var Mt=s(bt,2),mt=a(Mt),ye=a(mt,!0);e(mt);var Bt=s(mt,2),ze=a(Bt);e(Bt),e(Mt),e(_t);var pt=s(_t,2),Z=a(pt);Z.__click=[Ye,F];var Yt=s(a(Z),2),he=a(Yt);let Qt;e(Yt),e(Z);var xe=s(Z,2);{var ke=l=>{var S=Ue(),m=s(et(S),2),C=s(a(m),2),w=a(C);at(w),e(C),e(m);var f=s(m,2),I=s(a(f),2),R=a(I);at(R),e(I),e(f);var $=s(f,2),T=s(a($),2),O=a(T);at(O),e(T),e($);var gt=s($,2);gt.__click=[Qe,re],st(w,()=>t(J),y=>v(J,y)),st(R,()=>t(K),y=>v(K,y)),st(O,()=>t(V),y=>v(V,y)),g(l,S)};q(xe,l=>{t(F)&&l(ke)})}e(pt);var Ut=s(pt,2),tt=a(Ut);tt.__click=[We,U];var Wt=s(a(tt),2),Se=a(Wt);let Ft;e(Wt),e(tt);var Ce=s(tt,2);{var je=l=>{var S=Xe(),m=s(et(S),2),C=s(a(m),2);at(C),e(m);var w=s(m,2),f=s(a(w),2),I=a(f);D(()=>{t(k),Xt(()=>{})}),Zt(I,5,()=>(ft(B),n(()=>Object.values(B))),te,(p,j)=>{var z=Fe(),G=a(z,!0);e(z);var E={};D(()=>{u(G,t(j)),E!==(E=t(j))&&(z.value=(z.__value=t(j))??"")}),g(p,z)}),e(I),e(f),e(w);var R=s(w,2);{var $=p=>{var j=Ke(),z=s(a(j),2),G=a(z);D(()=>{t(A),Xt(()=>{t(i),t(r)})}),Zt(G,5,()=>(t(i),t(r),n(()=>t(i).getGroupLabels(t(r).id))),te,(E,wt)=>{var H=Je(),Le=a(H,!0);e(H);var Jt={};D(()=>{u(Le,t(wt)),Jt!==(Jt=t(wt))&&(H.value=(H.__value=t(wt))??"")}),g(E,H)}),e(G),e(z),e(j),ee(G,()=>t(A),E=>v(A,E)),g(p,j)};q(R,p=>{t(k),ft(B),n(()=>t(k)===B.Group)&&p($)})}var T=s(R,2),O=a(T),gt=a(O,!0);e(O);var y=s(O,2),Pe=a(y,!0);e(y),e(T);var De=s(T,2);De.__click=[Ve,ie],D(()=>{u(gt,(t(N),n(()=>t(N).desc))),u(Pe,(t(N),n(()=>t(N).subdesc)))}),st(C,()=>t(W),p=>v(W,p)),ee(I,()=>t(k),p=>v(k,p)),g(l,S)};q(Ce,l=>{t(U)&&l(je)})}e(Ut),D((l,S,m,C,w,f)=>{u(ce,(t(r),n(()=>t(r).title))),u(ue,(t(r),n(()=>t(r).subtitle))),u(me,l),u(pe,S),u(ge,m),u(we,C),M(Rt,`width: ${t(_),n(()=>t(_).ignored)??""}%`),M($t,`width: ${t(_),n(()=>t(_).previouslyStudied)??""}%`),M(Gt,`width: ${t(_),n(()=>t(_).young)??""}%`),M(Ht,`width: ${t(_),n(()=>t(_).mature)??""}%`),M(fe,`width: ${t(_),n(()=>t(_).rest)??""}%`),u(ye,t(zt)),u(ze,`/ ${t(ht)??""}`),Qt=yt(he,1,"fa-solid",null,Qt,w),Ft=yt(Se,1,"fa-solid",null,Ft,f)},[()=>(t(i),t(r),n(()=>t(i).getScheduledNewOrWarmUpCardsCount(t(r).id))),()=>(t(i),t(r),n(()=>t(i).getLearningRelearningCardsCount(t(r).id))),()=>(t(i),t(r),n(()=>t(i).getScheduledPreviouslyStudiedCardsCount(t(r).id))),()=>(t(i),t(r),n(()=>t(i).getScheduledReviewCardsCount(t(r).id))),()=>({"fa-chevron-down":t(F),"fa-chevron-right":!t(F)}),()=>({"fa-chevron-down":t(U),"fa-chevron-right":!t(U)})],Kt),g(d,b)};q(ve,d=>{t(xt)&&d(de)})}e(rt);var Pt=s(rt,2),X=a(Pt);let Dt;var oe=a(X);{var ne=d=>{var b=Vt("You're done for today");g(d,b)},le=d=>{var b=Vt("Study");g(d,b)};q(oe,d=>{t(it)?d(ne):d(le,!1)})}e(X),e(Pt),D(d=>{Dt=yt(X,1,"button svelte-bgmz4w",null,Dt,d),qe(X,"href",`${$e??""}/review?id=${t(r),n(()=>t(r).id)??""}`)},[()=>({disabled:t(it)})],Kt),g(h,Ct),Oe()}ae(["click"]);export{wa as component,ga as universal};
