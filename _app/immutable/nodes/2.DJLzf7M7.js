import"../chunks/CWj6FrbW.js";import"../chunks/CHpnjp_b.js";import{d as te,o as se,s as k}from"../chunks/3DT1RaQV.js";import{p as re,_ as j,$ as B,a0 as ie,f as _,a as oe,t as w,b as p,c as le,h as a,i as g,s as o,d as i,r,a1 as ne,a2 as N,H as v}from"../chunks/CvbXAzr3.js";import{i as R}from"../chunks/C7DlhgQh.js";import{e as ce,i as ve}from"../chunks/CeWMhBIq.js";import{T as de,s as C}from"../chunks/BqiIZ60Y.js";import{s as ue}from"../chunks/8xkcVM4Q.js";import{i as ke}from"../chunks/7MZX7QCZ.js";import{b as m}from"../chunks/DIKJuRZX.js";import{A as pe}from"../chunks/B1GsdY68.js";import{D as ge}from"../chunks/S7QYTU3w.js";function _e(x,d){a(d).profile.loginGoogle(a(d))}function fe(x,d,b){window.confirm("Are you sure you want to stay logged out? You might need to sync manually later")&&(a(d).profile.updateLoginStatus(void 0),g(b,a(d).profile.isAutomaticallyLoggedOut()))}var me=_('<a class="deck-card svelte-566jkk"><div class="left"><span class="deck-card-title svelte-566jkk"> </span> <span class="deck-card-subtitle svelte-566jkk"> </span></div> <div class="right svelte-566jkk"><span class="deck-count-learn-relearn svelte-566jkk" title="learning"> </span> <span class="deck-count-review svelte-566jkk" title="review"> </span> <span class="deck-count-new svelte-566jkk" title="new"> </span> <span class="deck-count-previously-studied svelte-566jkk" title="previously studied"> </span></div></a>'),be=_('<a class="a-button svelte-566jkk">Add New Deck</a>'),he=_('<div class="deck-card-container svelte-566jkk"><!> <a class="deck-card-button svelte-566jkk" title="Deck Info" aria-label="Deck Info"><i class="fa-solid fa-list"></i></a></div>'),ye=_('<div class="deck-list-container svelte-566jkk"></div>'),je=_(`<div class="auto-logout-info-container svelte-566jkk"><div><i class="fa-solid fa-circle-info" style="color: #3E92CC;"></i> <p>You are <b>unexpectedly logged out</b> due to session expiration or server issue.
                    Try logging in again.</p> <p class="note svelte-566jkk">(*Please report to the developer if this happens frequently.)</p> <div><button class="button svelte-566jkk"><i class="fa-brands fa-google"></i>&nbsp;
                        Log in with Google</button> <button class="button invert svelte-566jkk"><i class="fa-solid fa-ban"></i>&nbsp;
                        Stay Logged Out</button></div></div></div>`),we=_('<!> <div class="main-container svelte-566jkk"><div class="top-container svelte-566jkk"><a class="a-button svelte-566jkk" style="background-color: #A0D0F0;">Changelog</a> <!></div> <div class="hr svelte-566jkk"></div> <!></div>',1);function qe(x,d){re(d,!1);const b=j(),h=j(),Y=(t,e=ne)=>{var c=me(),l=i(c),n=i(l),u=i(n,!0);r(n);var f=o(n,2),A=i(f,!0);r(f),r(l);var T=o(l,2),L=i(T),J=i(L,!0);r(L);var S=o(L,2),K=i(S,!0);r(S);var O=o(S,2),Q=i(O,!0);r(O);var q=o(O,2),V=i(q,!0);r(q),r(T),r(c),w((X,Z,ee,ae)=>{C(c,"href",`${m??""}/overview?id=${e(),v(()=>e().id)??""}`),k(u,(e(),v(()=>e().title))),ue(f,(e(),v(()=>`--subtitle-color: ${e().color??"#00000080"}`))),k(A,(e(),v(()=>e().subtitle))),k(J,X),k(K,Z),k(Q,ee),k(V,ae)},[()=>(a(s),e(),v(()=>a(s).getLearningRelearningCardsCount(e().id)||"")),()=>(a(s),e(),v(()=>a(s).getScheduledReviewCardsCount(e().id)||"")),()=>(a(s),e(),v(()=>a(s).getScheduledNewOrWarmUpCardsCount(e().id)||"")),()=>(a(s),e(),v(()=>a(s).getScheduledPreviouslyStudiedCardsCount(e().id)||""))],N),p(t,c)};let s=j(new pe),y=j(!1);se(async()=>{await a(s).init(),g(s,a(s)),E();const t=await a(s).initProfile();g(y,a(s).profile.isAutomaticallyLoggedOut()),t&&g(s,a(s))});function E(){"serviceWorker"in navigator&&navigator.serviceWorker.register(`${m}/service-worker.js`).then(t=>{}).catch(t=>console.error("SW registration failed:",t))}function F(t){return ge.find(e=>e.id===t)??{id:t,title:t,subtitle:""}}B(()=>a(s),()=>{g(b,Object.keys(a(s).deckData))}),B(()=>a(y),()=>{g(h,a(y))}),ie(),ke();var $=we(),W=oe($);de(W,{title:"WenBun (beta)"});var G=o(W,2),D=i(G),P=i(D),H=o(P,2);{var I=t=>{var e=be();w(()=>C(e,"href",`${m??""}/deck-browser/`)),p(t,e)};R(H,t=>{a(h)||t(I)})}r(D);var M=o(D,4);{var U=t=>{var e=ye();ce(e,5,()=>a(b),ve,(c,l)=>{var n=he(),u=i(n),f=N(()=>(a(l),v(()=>F(a(l)))));Y(u,()=>a(f));var A=o(u,2);r(n),w(()=>C(A,"href",`${m??""}/deck?id=${a(l)??""}`)),p(c,n)}),r(e),p(t,e)},z=t=>{var e=je(),c=i(e),l=o(i(c),6),n=i(l);n.__click=[_e,s];var u=o(n,2);u.__click=[fe,s,y],r(l),r(c),r(e),p(t,e)};R(M,t=>{a(h)?t(z,!1):t(U)})}r(G),w(()=>C(P,"href",`${m??""}/about/`)),p(x,$),le()}te(["click"]);export{qe as component};
