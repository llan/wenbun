import"../chunks/CWj6FrbW.js";import"../chunks/C9SiBo4C.js";import{d as Gt,o as ae,s as c}from"../chunks/C2FOGMiU.js";import{O as de,P as n,Q as y,R as ie,S as D,T as Pt,V as w,W as b,X as oe,Y as r,a0 as Tt,g as t,d as o,Z as s,b as v,y as F,_ as e,a2 as $t,aM as Et}from"../chunks/XIoSnaTS.js";import{i as K}from"../chunks/DAhYkV_L.js";import{A as ve,E as h,D as le,e as Ot,i as Rt}from"../chunks/WvndEMzX.js";import{T as ne,s as ce,r as ue}from"../chunks/DSL8OlOS.js";import{s as _e}from"../chunks/new4gNWg.js";import{s as I}from"../chunks/C51PpzTX.js";import{b as pe}from"../chunks/CD__FaAr.js";import{b as Nt}from"../chunks/BJC6_uFk.js";import{i as me}from"../chunks/DEcBvPEb.js";import{p as xe}from"../chunks/CbXtU1xg.js";import{b as tt,g as ge}from"../chunks/cjryQm_H.js";const fe=({url:P})=>({deckId:P.searchParams.get("id")||""}),ze=Object.freeze(Object.defineProperty({__proto__:null,load:fe},Symbol.toStringTag,{value:"Module"}));Gt(["click"]);var ye=D("<option> </option>"),be=D("<option> </option>"),qe=D('<div class="extra-study-row svelte-mrxsqo"><div>Group :</div> <div><select></select></div></div>'),Se=(P,T)=>T(),we=D('<div class="deck-info svelte-mrxsqo"><span class="deck-card-title"> </span> <span class="deck-card-subtitle svelte-mrxsqo"> </span></div> <div class="table-container"><table class="count-table svelte-mrxsqo"><tbody><tr class="row-count-new svelte-mrxsqo"><td>New</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-learn-relearn svelte-mrxsqo"><td>Learning</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-previously-studied svelte-mrxsqo"><td>Previously Studied</td><td class="count svelte-mrxsqo"> </td></tr><tr class="row-count-review svelte-mrxsqo"><td>Review</td><td class="count svelte-mrxsqo"> </td></tr></tbody></table></div> <div class="progress-container svelte-mrxsqo"><div class="section-title svelte-mrxsqo">Progress</div> <div class="progress-bar-container svelte-mrxsqo"><div class="bar ignored svelte-mrxsqo" title="Ignored"></div> <div class="bar previously-studied svelte-mrxsqo" title="Previously Studied"></div> <div class="bar young svelte-mrxsqo" title="Young"></div> <div class="bar mature svelte-mrxsqo" title="Mature"></div> <div class="bar rest svelte-mrxsqo"></div></div> <div><span> </span> <span style="opacity: 0.5;"> </span></div></div> <div class="extra-study-container svelte-mrxsqo"><div class="section-title svelte-mrxsqo">Extra Study</div> <div class="extra-study-help svelte-mrxsqo">Study more without affecting the SRS schedule</div> <div class="extra-study-row svelte-mrxsqo"><div>Count :</div> <div><input type="number"/></div></div> <div class="extra-study-row svelte-mrxsqo"><div>Type :</div> <div><select></select></div></div> <!> <div class="extra-study-description svelte-mrxsqo"><span class="desc"> </span> <span class="subdesc svelte-mrxsqo"> </span></div> <button class="button svelte-mrxsqo">Extra Study</button></div>',1),ke=D('<!> <div class="container svelte-mrxsqo"><!></div> <div class="bottom-bar svelte-mrxsqo"><a><!></a></div>',1);function Le(P,T){de(T,!1);const a=n(),x=n(),u=n(),et=n(),st=n(),$=n(),k=n();let E=xe(T,"data",8),d=n(new ve),rt=n(!1),N=n(!1);ae(async()=>{var i,l;await t(d).init(),v(d,t(d)),v(q,((l=(i=t(d).deckData[E().deckId??""])==null?void 0:i.groups[0])==null?void 0:l.label)??""),v(rt,!0),v(N,t(d).getNextCard(E().deckId??"")===void 0)});function Mt(i){return le.find(l=>l.id===i)??{id:i,title:i,subtitle:""}}let O=n(20),g=n(h.StudiedCards),q=n("");function jt(){const i=t(d).extraStudyHandler.getCardIds(t(a).id,t($)),l=encodeURIComponent(JSON.stringify(i));ge(`${tt}/review?id=${t(a).id}&isExtraStudy=true&cardIds=${l}`)}y(()=>F(E()),()=>{v(a,Mt(E().deckId??""))}),y(()=>(t(d),t(a)),()=>{v(x,t(d).getDeckProgress(t(a).id))}),y(()=>(t(d),t(a)),()=>{v(u,t(d).getDeckProgressNormalized(t(a).id))}),y(()=>t(x),()=>{v(et,t(x).youngCount+t(x).matureCount)}),y(()=>t(x),()=>{v(st,t(x).totalCount-t(x).ignoredCount)}),y(()=>(t(g),t(O),t(q)),()=>{v($,{type:t(g),count:t(O),group:t(q)})}),y(()=>(t(d),t(a),t($)),()=>{v(k,t(d).extraStudyHandler.getDescription(t(a).id,t($)))}),ie(),me();var at=ke(),dt=Pt(at);ne(dt,{title:"Overview",get backUrl(){return`${tt??""}/`}});var G=r(dt,2),zt=s(G);{var Lt=i=>{var l=we(),M=Pt(l),j=s(M),Ht=s(j,!0);e(j);var vt=r(j,2),Ut=s(vt,!0);e(vt),e(M);var z=r(M,2),lt=s(z),nt=s(lt),L=s(nt),ct=r(s(L)),Jt=s(ct,!0);e(ct),e(L);var Y=r(L),ut=r(s(Y)),Qt=s(ut,!0);e(ut),e(Y);var A=r(Y),_t=r(s(A)),Vt=s(_t,!0);e(_t),e(A);var pt=r(A),mt=r(s(pt)),Wt=s(mt,!0);e(mt),e(pt),e(nt),e(lt),e(z);var B=r(z,2),H=r(s(B),2),xt=s(H),gt=r(xt,2),ft=r(gt,2),yt=r(ft,2),Xt=r(yt,2);e(H);var bt=r(H,2),U=s(bt),Zt=s(U,!0);e(U);var qt=r(U,2),Ft=s(qt);e(qt),e(bt),e(B);var St=r(B,2),J=r(s(St),4),wt=r(s(J),2),kt=s(wt);ue(kt),e(wt),e(J);var Q=r(J,2),Ct=r(s(Q),2),V=s(Ct);w(()=>{t(g),$t(()=>{})}),Ot(V,5,()=>(F(h),o(()=>Object.values(h))),Rt,(_,m)=>{var p=ye(),f=s(p,!0);e(p);var S={};w(()=>{c(f,t(m)),S!==(S=t(m))&&(p.value=(p.__value=t(m))??"")}),b(_,p)}),e(V),e(Ct),e(Q);var ht=r(Q,2);{var Kt=_=>{var m=qe(),p=r(s(m),2),f=s(p);w(()=>{t(q),$t(()=>{t(d),t(a)})}),Ot(f,5,()=>(t(d),t(a),o(()=>t(d).getGroupLabels(t(a).id))),Rt,(S,Z)=>{var C=be(),re=s(C,!0);e(C);var Dt={};w(()=>{c(re,t(Z)),Dt!==(Dt=t(Z))&&(C.value=(C.__value=t(Z))??"")}),b(S,C)}),e(f),e(p),e(m),Nt(f,()=>t(q),S=>v(q,S)),b(_,m)};K(ht,_=>{t(g),F(h),o(()=>t(g)===h.Group)&&_(Kt)})}var W=r(ht,2),X=s(W),te=s(X,!0);e(X);var It=r(X,2),ee=s(It,!0);e(It),e(W);var se=r(W,2);se.__click=[Se,jt],e(St),w((_,m,p,f)=>{c(Ht,(t(a),o(()=>t(a).title))),c(Ut,(t(a),o(()=>t(a).subtitle))),c(Jt,_),c(Qt,m),c(Vt,p),c(Wt,f),I(xt,`width: ${t(u),o(()=>t(u).ignored)??""}%`),I(gt,`width: ${t(u),o(()=>t(u).previouslyStudied)??""}%`),I(ft,`width: ${t(u),o(()=>t(u).young)??""}%`),I(yt,`width: ${t(u),o(()=>t(u).mature)??""}%`),I(Xt,`width: ${t(u),o(()=>t(u).rest)??""}%`),c(Zt,t(et)),c(Ft,`/ ${t(st)??""}`),c(te,(t(k),o(()=>t(k).desc))),c(ee,(t(k),o(()=>t(k).subdesc)))},[()=>(t(d),t(a),o(()=>t(d).getScheduledNewCardsCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getLearningRelearningCardsCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getPreviouslyStudiedCardCount(t(a).id))),()=>(t(d),t(a),o(()=>t(d).getScheduledReviewCardsCount(t(a).id)))],Tt),pe(kt,()=>t(O),_=>v(O,_)),Nt(V,()=>t(g),_=>v(g,_)),b(i,l)};K(zt,i=>{t(rt)&&i(Lt)})}e(G);var it=r(G,2),R=s(it);let ot;var Yt=s(R);{var At=i=>{var l=Et("You're done for today");b(i,l)},Bt=i=>{var l=Et("Study");b(i,l)};K(Yt,i=>{t(N)?i(At):i(Bt,!1)})}e(R),e(it),w(i=>{ot=_e(R,1,"button svelte-mrxsqo",null,ot,i),ce(R,"href",`${tt??""}/review?id=${t(a),o(()=>t(a).id)??""}`)},[()=>({disabled:t(N)})],Tt),b(P,at),oe()}Gt(["click"]);export{Le as component,ze as universal};
